# IMPORTANT: Add www to non-www redirects at the top to prevent redirect loops
[[redirects]]
  from = "https://www.expat-savvy.ch/*"
  to = "https://expat-savvy.ch/:splat"
  status = 301
  force = true

[build]
  command = "npm run build"
  publish = "dist"

[build.environment]
  NODE_VERSION = "18.20.8"
  NPM_VERSION = "10.8.0"

# NEW REDIRECTS FOR RECENT SEO OPTIMIZATION CHANGES

# Contact page redirects - fix the missing /contact to /free-consultation redirect
[[redirects]]
  from = "/contact"
  to = "/free-consultation"
  status = 301
  force = true

[[redirects]]
  from = "/contact/"
  to = "/free-consultation"
  status = 301
  force = true

# NEW: Regional guides redirects to new city health insurance pages
[[redirects]]
  from = "/news/regional-guides/zurich-insurance"
  to = "/health-insurance/zurich/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/zurich-insurance/"
  to = "/health-insurance/zurich/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/zurich/"
  to = "/health-insurance/zurich/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/zurich"
  to = "/health-insurance/zurich/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/geneva-insurance"
  to = "/health-insurance/geneva/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/geneva-insurance/"
  to = "/health-insurance/geneva/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/geneva/"
  to = "/health-insurance/geneva/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/geneva"
  to = "/health-insurance/geneva/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/basel-insurance"
  to = "/health-insurance/basel/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/basel-insurance/"
  to = "/health-insurance/basel/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/basel/"
  to = "/health-insurance/basel/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/basel"
  to = "/health-insurance/basel/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/bern-insurance"
  to = "/health-insurance/bern/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/bern-insurance/"
  to = "/health-insurance/bern/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/bern/"
  to = "/health-insurance/bern/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/bern"
  to = "/health-insurance/bern/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/lausanne-insurance"
  to = "/health-insurance/lausanne/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/lausanne-insurance/"
  to = "/health-insurance/lausanne/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/lausanne/"
  to = "/health-insurance/lausanne/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/lausanne"
  to = "/health-insurance/lausanne/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/zug-insurance"
  to = "/health-insurance/zug/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/zug-insurance/"
  to = "/health-insurance/zug/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/zug/"
  to = "/health-insurance/zug/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/zug"
  to = "/health-insurance/zug/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/lugano-insurance"
  to = "/health-insurance/lugano/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/lugano-insurance/"
  to = "/health-insurance/lugano/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/lugano/"
  to = "/health-insurance/lugano/"
  status = 301
  force = true

[[redirects]]
  from = "/news/regional-guides/lugano"
  to = "/health-insurance/lugano/"
  status = 301
  force = true

# Redirect FAQ pages to health insurance main page
[[redirects]]
  from = "/healthcare/faq"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/faq/"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/faq"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/faq/"
  to = "/health-insurance"
  status = 301
  force = true

# Redirect healthcare glossary to main basic insurance page
[[redirects]]
  from = "/healthcare/glossary"
  to = "/healthcare/glossary/basic-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/"
  to = "/healthcare/glossary/basic-health-insurance"
  status = 301
  force = true

# Redirect healthcare main page to health insurance page
[[redirects]]
  from = "/healthcare"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/"
  to = "/health-insurance"
  status = 301
  force = true

# Personal liability insurance guide redirect
[[redirects]]
  from = "/insurance-guides/personal-liability"
  to = "/insurance/personal-liability-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/insurance-guides/personal-liability/"
  to = "/insurance/personal-liability-insurance"
  status = 301
  force = true

# Regional insurance guides redirect
[[redirects]]
  from = "/insurance-guides/regional"
  to = "/living-in-switzerland"
  status = 301
  force = true

[[redirects]]
  from = "/insurance-guides/regional/"
  to = "/living-in-switzerland"
  status = 301
  force = true

# 3rd Pillar redirects
[[redirects]]
  from = "/insurance/3rd-pillar"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/3rd-pillar/"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/3rd-pillar/"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/finance/3rd-pillar-pension"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/finance/3rd-pillar-pension/"
  to = "/3rd-pillar"
  status = 301
  force = true

# Legal insurance redirects
[[redirects]]
  from = "/insurance/legal-insurance"
  to = "/insurance/legal-protection-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/legal-insurance/"
  to = "/insurance/legal-protection-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/private-liability-insurance"
  to = "/insurance/personal-liability-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/private-liability-insurance/"
  to = "/insurance/personal-liability-insurance"
  status = 301
  force = true

# Health insurance redirects
[[redirects]]
  from = "/insurance/health-insurance"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/health-insurance/"
  to = "/health-insurance"
  status = 301
  force = true

## Removed trailing-slash normalization to prevent redirect loop between
## /health-insurance and /health-insurance/

[[redirects]]
  from = "/health-insurance/basic"
  to = "/healthcare/glossary/basic-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/health-insurance/basic/"
  to = "/healthcare/glossary/basic-health-insurance"
  status = 301
  force = true

# Guide redirects for missing pages
[[redirects]]
  from = "/guides/how-to/apply-health-insurance"
  to = "/guides/how-to/set-up-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/apply-health-insurance/"
  to = "/guides/how-to/set-up-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/switch-health-insurance"
  to = "/guides/how-to/switch-health-insurance-providers"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/switch-health-insurance/"
  to = "/guides/how-to/switch-health-insurance-providers"
  status = 301
  force = true

[[redirects]]
  from = "/guides/swiss-pension-system"
  to = "/blog/understanding-swiss-3-pillar-pension-system"
  status = 301
  force = true

[[redirects]]
  from = "/guides/swiss-pension-system/"
  to = "/blog/understanding-swiss-3-pillar-pension-system"
  status = 301
  force = true

# Additional guide redirects for missing pages
[[redirects]]
  from = "/guides/how-to/compare-health-insurance"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/compare-health-insurance/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/health-insurance-new-arrivals"
  to = "/healthcare/new-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/health-insurance-new-arrivals/"
  to = "/healthcare/new-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/file-insurance-claim"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/file-insurance-claim/"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/understand-insurance-bill"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/understand-insurance-bill/"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/save-health-insurance-costs"
  to = "/guides/how-to/choose-health-insurance-deductible"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/save-health-insurance-costs/"
  to = "/guides/how-to/choose-health-insurance-deductible"
  status = 301
  force = true

[[redirects]]
  from = "/guides/retirement-planning-switzerland"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/guides/retirement-planning-switzerland/"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/guides/tax-optimization-switzerland"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/guides/tax-optimization-switzerland/"
  to = "/3rd-pillar"
  status = 301
  force = true

# Missing directory redirects
[[redirects]]
  from = "/guides"
  to = "/guides/how-to"
  status = 301
  force = true

[[redirects]]
  from = "/guides/"
  to = "/guides/how-to"
  status = 301
  force = true

[[redirects]]
  from = "/guides/education"
  to = "/living-in-switzerland"
  status = 301
  force = true

[[redirects]]
  from = "/guides/education/"
  to = "/living-in-switzerland"
  status = 301
  force = true

[[redirects]]
  from = "/guides/taxation"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/guides/taxation/"
  to = "/3rd-pillar"
  status = 301
  force = true

# Living section redirects for missing pages
[[redirects]]
  from = "/living/transport"
  to = "/living-in-switzerland"
  status = 301
  force = true

[[redirects]]
  from = "/living/transport/"
  to = "/living-in-switzerland"
  status = 301
  force = true

[[redirects]]
  from = "/living/housing"
  to = "/living-in-switzerland"
  status = 301
  force = true

[[redirects]]
  from = "/living/housing/"
  to = "/living-in-switzerland"
  status = 301
  force = true

[[redirects]]
  from = "/living/banking"
  to = "/living-in-switzerland"
  status = 301
  force = true

[[redirects]]
  from = "/living/banking/"
  to = "/living-in-switzerland"
  status = 301
  force = true

# Calculator and tool redirects
[[redirects]]
  from = "/pension-calculator"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/pension-calculator/"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/home-inventory-checklist"
  to = "/insurance/household-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/home-inventory-checklist/"
  to = "/insurance/household-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/life-insurance-calculator"
  to = "/life-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/life-insurance-calculator/"
  to = "/life-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/speak-with-our-advisors"
  to = "/free-consultation"
  status = 301
  force = true

[[redirects]]
  from = "/speak-with-our-advisors/"
  to = "/free-consultation"
  status = 301
  force = true

[[redirects]]
  from = "/tax-savings"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/tax-savings/"
  to = "/3rd-pillar"
  status = 301
  force = true

# Blog post redirects for missing articles
[[redirects]]
  from = "/blog/understanding-swiss-insurance-system"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/understanding-swiss-insurance-system/"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/maternity-newborn-insurance-switzerland-expat-guide"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/maternity-newborn-insurance-switzerland-expat-guide/"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/price-peace-mind-comparing-swiss-health-insurance-deductibles-cost-saving-model"
  to = "/guides/how-to/choose-health-insurance-deductible"
  status = 301
  force = true

[[redirects]]
  from = "/blog/price-peace-mind-comparing-swiss-health-insurance-deductibles-cost-saving-model/"
  to = "/guides/how-to/choose-health-insurance-deductible"
  status = 301
  force = true

[[redirects]]
  from = "/blog/understanding-swiss-health-insurance-premium-regions"
  to = "/blog/decoding-swiss-health-insurance-canton-region-premium"
  status = 301
  force = true

[[redirects]]
  from = "/blog/understanding-swiss-health-insurance-premium-regions/"
  to = "/blog/decoding-swiss-health-insurance-canton-region-premium"
  status = 301
  force = true

[[redirects]]
  from = "/blog/bank-vs-insurance-3a"
  to = "/blog/bank-vs-insurance-3a/"
  status = 301
  force = true

[[redirects]]
  from = "/blog/3rd-pillar-investment-options"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/blog/3rd-pillar-investment-options/"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/blog/3a-withdrawal-strategies"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/blog/3a-withdrawal-strategies/"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/blog/retirement-planning-expats-switzerland"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/blog/retirement-planning-expats-switzerland/"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/blog/swiss-pension-system-complete-guide"
  to = "/blog/understanding-swiss-3-pillar-pension-system"
  status = 301
  force = true

[[redirects]]
  from = "/blog/swiss-pension-system-complete-guide/"
  to = "/blog/understanding-swiss-3-pillar-pension-system"
  status = 301
  force = true

[[redirects]]
  from = "/blog/term-vs-whole-life-insurance"
  to = "/life-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/term-vs-whole-life-insurance/"
  to = "/life-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/common-liability-claims"
  to = "/insurance/personal-liability-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/common-liability-claims/"
  to = "/insurance/personal-liability-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/liability-insurance-limits"
  to = "/insurance/personal-liability-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/liability-insurance-limits/"
  to = "/insurance/personal-liability-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/natural-disaster-coverage"
  to = "/insurance/household-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/natural-disaster-coverage/"
  to = "/insurance/household-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/swiss-gym-insurance-coverage"
  to = "/guides/how-to/gym-coverage-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/blog/swiss-gym-insurance-coverage/"
  to = "/guides/how-to/gym-coverage-health-insurance"
  status = 301
  force = true

# Additional healthcare redirects for missing pages
[[redirects]]
  from = "/healthcare/emergency-care"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/emergency-care/"
  to = "/health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/supplementary-insurance"
  to = "/healthcare/glossary/supplementary-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/supplementary-insurance/"
  to = "/healthcare/glossary/supplementary-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/health-insurance-for-new-arrivals"
  to = "/healthcare/new-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/health-insurance-for-new-arrivals/"
  to = "/healthcare/new-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/dental-insurance"
  to = "/healthcare/glossary/supplementary-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/dental-insurance/"
  to = "/healthcare/glossary/supplementary-insurance"
  status = 301
  force = true

# Missing healthcare glossary redirects
[[redirects]]
  from = "/healthcare/glossary/hmo-model"
  to = "/healthcare/glossary/gp-model"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/hmo-model/"
  to = "/healthcare/glossary/gp-model"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/family-doctor-model"
  to = "/healthcare/glossary/gp-model"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/family-doctor-model/"
  to = "/healthcare/glossary/gp-model"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/premium"
  to = "/healthcare/glossary/health-insurance-premiums"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/premium/"
  to = "/healthcare/glossary/health-insurance-premiums"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/deductible"
  to = "/healthcare/glossary/annual-deductible"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/deductible/"
  to = "/healthcare/glossary/annual-deductible"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/health-insurance-deductible"
  to = "/healthcare/glossary/annual-deductible"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/health-insurance-deductible/"
  to = "/healthcare/glossary/annual-deductible"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/supplementary-health-insurance"
  to = "/healthcare/glossary/supplementary-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/glossary/supplementary-health-insurance/"
  to = "/healthcare/glossary/supplementary-insurance"
  status = 301
  force = true

# Removed empty redirects blocks that caused parsing warnings

# Insurance path redirects
[[redirects]]
  from = "/insurance/car-insurance"
  to = "/living-in-switzerland"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/car-insurance/"
  to = "/living-in-switzerland"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/tax-advantages-3rd-pillar"
  to = "/3rd-pillar"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/tax-advantages-3rd-pillar/"
  to = "/3rd-pillar"
  status = 301
  force = true

# Additional complex path redirects
[[redirects]]
  from = "/insurance/health-insurance/change-provider"
  to = "/healthcare/switching-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/health-insurance/change-provider/"
  to = "/healthcare/switching-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/health-insurance/setup-guide"
  to = "/healthcare/new-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/health-insurance/setup-guide/"
  to = "/healthcare/new-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/health-insurance/comparison-guide"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/health-insurance/comparison-guide/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

# Comparison page canonical redirects (normalize to alphabetical order)
[[redirects]]
  from = "/compare-providers/helsana-vs-swica"
  to = "/compare-providers/swica-vs-helsana"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/helsana-vs-swica/"
  to = "/compare-providers/swica-vs-helsana"
  status = 301
  force = true

# OLD: Archived comparison pages redirects to new comprehensive guide
[[redirects]]
  from = "/compare-providers/concordia-vs-kpt"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/concordia-vs-kpt/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/groupe-mutuel-vs-assura"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/groupe-mutuel-vs-assura/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/groupe-mutuel-vs-sympany"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/groupe-mutuel-vs-sympany/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/kpt-vs-helsana"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/kpt-vs-helsana/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/visana-vs-atupri"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/visana-vs-atupri/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

# Archived pages redirects
[[redirects]]
  from = "/healthcare/all-insurances/_archived/*"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/_archived/*"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/blog/_archived/*"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

# Missing insurer redirects
[[redirects]]
  from = "/healthcare/all-insurances/egk"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/all-insurances/egk/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/all-insurances/axa"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/all-insurances/axa/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/providers/swica"
  to = "/healthcare/all-insurances/swica/"
  status = 301
  force = true

[[redirects]]
  from = "/providers/swica/"
  to = "/healthcare/all-insurances/swica/"
  status = 301
  force = true

[[redirects]]
  from = "/index"
  to = "/"
  status = 301
  force = true

[[redirects]]
  from = "/index/"
  to = "/"
  status = 301
  force = true

# Glossary pages redirects (consolidated into comprehensive guide)
[[redirects]]
  from = "/healthcare/glossary/*"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

# Draft files redirects
[[redirects]]
  from = "/draft/*"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

# Test files redirects
[[redirects]]
  from = "/test-alpine-modal"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/test-alpine-modal/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/simple-test.html"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

# Missing pages redirects
[[redirects]]
  from = "/insurance"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/insurance/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/guides/moving-cantons"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/guides/moving-cantons/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

# NEW: Archive redirects for consolidated best health insurance content
[[redirects]]
  from = "/blog/best-health-insurance-switzerland"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/blog/best-health-insurance-switzerland/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/blog/best-health-insurance-switzerland-expats"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/blog/best-health-insurance-switzerland-expats/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

[[redirects]]
  from = "/compare-providers/"
  to = "/healthcare/best-health-insurance-switzerland/"
  status = 301
  force = true

# Redirect deleted regional guides to working alternatives
[[redirects]]
  from = "/guides/how-to/find-health-insurance-zurich"
  to = "/guides/how-to/find-best-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/change-health-insurance-zurich"
  to = "/guides/how-to/change-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/change-health-insurance-zurich/"
  to = "/guides/how-to/change-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/save-health-insurance-geneva"
  to = "/guides/how-to/choose-health-insurance-deductible"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/save-health-insurance-geneva/"
  to = "/guides/how-to/choose-health-insurance-deductible"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/save-health-insurance-basel"
  to = "/guides/how-to/choose-health-insurance-deductible"
  status = 301
  force = true

[[redirects]]
  from = "/guides/how-to/save-health-insurance-basel/"
  to = "/guides/how-to/choose-health-insurance-deductible"
  status = 301
  force = true

# EXISTING REDIRECTS (keeping all previous ones)

# Redirects for broken links in blog posts
[[redirects]]
  from = "/news/switching-health-insurance-in-switzerland"
  to = "/healthcare/switching-health-insurance"
  status = 301
  force = true

[[redirects]]
  from = "/guides/relocation/zurich-vs-zug-comparison/*"
  to = "/blog/zurich-vs-zug-choosing-ideal-swiss-relocation-destination/"
  status = 301
  force = true

[[redirects]]
  from = "/guides/relocation/zurich-relocation-costs/*"
  to = "/blog/hidden-costs-zurich-relocation-budget-planning-expats/"
  status = 301
  force = true

[[redirects]]
  from = "/news/gyms-in-switzerland"
  to = "/guides/how-to/gym-coverage-health-insurance"
  status = 301
  force = true

# NEW: Insurer page redirects to new canonical routes
[[redirects]]
  from = "/healthcare/insurers/helsana"
  to = "/healthcare/all-insurances/helsana/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/helsana/"
  to = "/healthcare/all-insurances/helsana/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/helsana"
  to = "/healthcare/all-insurances/helsana/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/helsana/"
  to = "/healthcare/all-insurances/helsana/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/swica"
  to = "/healthcare/all-insurances/swica/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/swica/"
  to = "/healthcare/all-insurances/swica/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/swica"
  to = "/healthcare/all-insurances/swica/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/swica/"
  to = "/healthcare/all-insurances/swica/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/css"
  to = "/healthcare/all-insurances/css/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/css/"
  to = "/healthcare/all-insurances/css/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/css"
  to = "/healthcare/all-insurances/css/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/css/"
  to = "/healthcare/all-insurances/css/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/sanitas"
  to = "/healthcare/all-insurances/sanitas/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/sanitas/"
  to = "/healthcare/all-insurances/sanitas/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/sanitas"
  to = "/healthcare/all-insurances/sanitas/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/sanitas/"
  to = "/healthcare/all-insurances/sanitas/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/assura"
  to = "/healthcare/all-insurances/assura/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/assura/"
  to = "/healthcare/all-insurances/assura/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/assura"
  to = "/healthcare/all-insurances/assura/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/assura/"
  to = "/healthcare/all-insurances/assura/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/concordia"
  to = "/healthcare/all-insurances/concordia/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/concordia/"
  to = "/healthcare/all-insurances/concordia/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/concordia"
  to = "/healthcare/all-insurances/concordia/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/concordia/"
  to = "/healthcare/all-insurances/concordia/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/atupri"
  to = "/healthcare/all-insurances/atupri/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/atupri/"
  to = "/healthcare/all-insurances/atupri/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/atupri"
  to = "/healthcare/all-insurances/atupri/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/atupri/"
  to = "/healthcare/all-insurances/atupri/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/groupe-mutuel"
  to = "/healthcare/all-insurances/groupe-mutuel/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/groupe-mutuel/"
  to = "/healthcare/all-insurances/groupe-mutuel/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/groupe-mutuel"
  to = "/healthcare/all-insurances/groupe-mutuel/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/groupe-mutuel/"
  to = "/healthcare/all-insurances/groupe-mutuel/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/kpt"
  to = "/healthcare/all-insurances/kpt/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/kpt/"
  to = "/healthcare/all-insurances/kpt/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/kpt"
  to = "/healthcare/all-insurances/kpt/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/kpt/"
  to = "/healthcare/all-insurances/kpt/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/visana"
  to = "/healthcare/all-insurances/visana/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/visana/"
  to = "/healthcare/all-insurances/visana/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/visana"
  to = "/healthcare/all-insurances/visana/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/visana/"
  to = "/healthcare/all-insurances/visana/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/sympany"
  to = "/healthcare/all-insurances/sympany/"
  status = 301
  force = true

[[redirects]]
  from = "/healthcare/insurers/sympany/"
  to = "/healthcare/all-insurances/sympany/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/sympany"
  to = "/healthcare/all-insurances/sympany/"
  status = 301
  force = true

[[redirects]]
  from = "/insurers/sympany/"
  to = "/healthcare/all-insurances/sympany/"
  status = 301
  force = true

# Prevent Astro 404 handling issues
# OLD: /providers/ redirects to new canonical routes
[[redirects]]
  from = "/providers/helsana"
  to = "/healthcare/all-insurances/helsana/"
  status = 301
  force = true

[[redirects]]
  from = "/providers/helsana/"
  to = "/healthcare/all-insurances/helsana/"
  status = 301
  force = true

[[redirects]]
  from = "/providers/css"
  to = "/healthcare/all-insurances/css/"
  status = 301
  force = true

[[redirects]]
  from = "/providers/css/"
  to = "/healthcare/all-insurances/css/"
  status = 301
  force = true

[[redirects]]
  from = "/providers/assura"
  to = "/healthcare/all-insurances/assura/"
  status = 301
  force = true

[[redirects]]
  from = "/providers/assura/"
  to = "/healthcare/all-insurances/assura/"
  status = 301
  force = true

[[redirects]]
  from = "/providers/concordia"
  to = "/healthcare/all-insurances/concordia/"
  status = 301
  force = true

[[redirects]]
  from = "/providers/concordia/"
  to = "/healthcare/all-insurances/concordia/"
  status = 301
  force = true

[[redirects]]
  from = "/*"
  to = "/404.html"
  status = 404

# Headers
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    # Default cache for static assets. HTML will be overridden below.
    Cache-Control = "public, max-age=86400"

# Ensure HTML pages are not cached aggressively (prevents stale old/new page mixes)
[[headers]]
  for = "/*.html"
  [headers.values]
    Cache-Control = "public, max-age=0, must-revalidate"

[[headers]]
  for = "/**/*.html"
  [headers.values]
    Cache-Control = "public, max-age=0, must-revalidate"