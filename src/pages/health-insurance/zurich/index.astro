---
import Layout from '../../../layouts/Layout.astro';
import OffersModal from '../../../components/OffersModal.astro';

const city = "Zurich";
const citySlug = "zurich";
const canton = "Zürich";
const subsidyUrl = "https://www.zuerich.ch/portal/de/index/politik_u_recht/stadtkanzlei/praemienverbilligung.html";

// Dynamic social proof number (5-18, seeded daily)
const today = new Date().toDateString();
const seed = today.split('').reduce((a, b) => a + b.charCodeAt(0), 0);
const socialProofNumber = 5 + (seed % 14);

const premiumTable = [
  { profile: "Adult 25–35", model: "Telmed", deductible: "2,500", range: "270–360" },
  { profile: "Adult 35–45", model: "HMO", deductible: "2,500", range: "300–380" },
  { profile: "Family (2 adults + child)", model: "HMO mix", deductible: "mixed", range: "700–950" }
];

const faqs = [
  {
    question: `Why are premiums higher in ${city}?`,
    answer: `${city} is in premium region 1, the highest cost bracket in Switzerland. This reflects higher healthcare costs, more specialists, and advanced medical facilities in the canton.`
  },
  {
    question: `Which model is cheapest in ${city} (Telmed, HMO, Family Doctor, Standard)?`,
    answer: "Telmed is often the cheapest, followed by HMO/Family Doctor models. Standard usually costs the most but offers the most flexibility."
  },
  {
    question: `Can I pick any insurer or only a ${canton} company?`,
    answer: `You can choose any licensed Swiss insurer. Your premium is based on your residence in ${city}, regardless of the insurer's location.`
  },
  {
    question: `Where do I apply for subsidies in ${canton}?`,
    answer: `Apply via the canton premium-reduction portal. Income and residency requirements apply.`
  },
  {
    question: "When is the deadline to switch for 2026?",
    answer: "Send your cancellation by 30 November 2025 for a 1 January 2026 start."
  }
];
---

<Layout
  title={`Health Insurance ${city} 2026 | Best & Cheapest Options for Expats`}
  description={`Find the best and cheapest health insurance in ${city} (2026). Compare premiums, models (Telmed/HMO), subsidies, and expat-friendly insurers. Free consultation in English.`}
  canonicalURLProp={`https://expat-savvy.ch/health-insurance/${citySlug}/`}
>
  <!-- JSON-LD Schema -->
  <script type="application/ld+json" slot="head" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": `Health Insurance in ${city} (2026) — English Guide for Expats`,
    "about": [{"@type": "City", "name": city}],
    "inLanguage": "en",
    "author": {"@type": "Organization", "name": "Expat Savvy"},
    "datePublished": "2025-01-03",
    "dateModified": "2025-01-03",
    "mainEntityOfPage": {"@type": "WebPage", "@id": `https://expat-savvy.ch/health-insurance/${citySlug}/`},
    "publisher": {
      "@type": "Organization", 
      "name": "Expat Savvy",
      "logo": {
        "@type": "ImageObject",
        "url": "https://res.cloudinary.com/dphbnwjtx/image/upload/v1740080077/logoexpatsavvy_sykutm.svg"
      }
    },
    "image": "https://res.cloudinary.com/dphbnwjtx/image/upload/v1740598472/henrique-ferreira-6v-K4PpCHVw-unsplash_1_zkpj2a.webp",
    "description": `Find the best and cheapest health insurance in ${city} (2026). Compare premiums, models (Telmed/HMO), subsidies, and expat-friendly insurers. Free consultation in English.`
  })}>
  </script>

  <script type="application/ld+json" slot="head" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "HowTo",
    "name": `How to set up or switch health insurance in ${city}`,
    "step": [
      {"@type": "HowToStep", "name": "Compare models & premiums"},
      {"@type": "HowToStep", "name": "Apply to new insurer"},
      {"@type": "HowToStep", "name": "Cancel current policy by 30 Nov for 1 Jan start"}
    ]
  })}>
  </script>

  <script type="application/ld+json" slot="head" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": `Why are premiums higher in ${city}?`,
        "acceptedAnswer": {
          "@type": "Answer",
          "text": `${city} is in premium region 1, the highest cost bracket in Switzerland. This reflects higher healthcare costs, more specialists, and advanced medical facilities in the canton.`
        }
      },
      {
        "@type": "Question",
        "name": `Which model is cheapest in ${city}?`,
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Telmed is often the cheapest, followed by HMO/Family Doctor models. Standard usually costs the most but offers the most flexibility."
        }
      },
      {
        "@type": "Question",
        "name": `Can I pick any insurer or only a ${canton} company?`,
        "acceptedAnswer": {
          "@type": "Answer",
          "text": `You can choose any licensed Swiss insurer. Your premium is based on your residence in ${city}, regardless of the insurer's location.`
        }
      },
      {
        "@type": "Question",
        "name": `Where do I apply for subsidies in ${canton}?`,
        "acceptedAnswer": {
          "@type": "Answer",
          "text": `Apply via the canton premium-reduction portal: ${subsidyUrl}.`
        }
      },
      {
        "@type": "Question",
        "name": "What is the deadline to switch for 2026?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Send your cancellation by 30 November 2025 for a 1 January 2026 start."
        }
      }
    ]
  })}>
  </script>

  <!-- Hero Section -->
  <div class="relative bg-white overflow-hidden">
    <div class="absolute inset-0">
      <img 
        src="https://res.cloudinary.com/dphbnwjtx/image/upload/v1740598472/henrique-ferreira-6v-K4PpCHVw-unsplash_1_zkpj2a.webp"
        alt="Zurich cityscape with Lake Zurich, mountain views, and the financial district - health insurance guide for expats"
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-black/60 to-black/40"></div>
    </div>
    
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-32">
      <div class="text-center">
        <!-- H1 -->
        <h1 class="text-4xl md:text-6xl font-extrabold text-white mb-6">
          <span class="block">Health Insurance in {city} (2026)</span>
          <span class="block mt-2 text-red-400">Guide for Expats</span>
        </h1>
        
        <!-- Subhead -->
        <p class="mt-6 max-w-4xl mx-auto text-xl md:text-2xl text-gray-300 leading-relaxed">
          How Swiss basic health insurance (KVG/LAMal) works in {city}. See 2026 premiums, models (HMO/Telmed), how to switch by 30 Nov, and where to claim subsidies.
        </p>

        <!-- Social Proof Badge -->
        <div class="mt-8 inline-flex items-center bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 border border-white/20">
          <div class="w-3 h-3 bg-green-400 rounded-full mr-3 animate-pulse"></div>
          <span class="text-white font-medium">
            ✔ {socialProofNumber} people in {city} booked consultations in the last 24h
          </span>
        </div>

        <!-- CTAs -->
        <div class="mt-10 flex flex-col sm:flex-row gap-4 justify-center items-center">
          <!-- Primary CTA - Red (Consultation) -->
          <button 
            onclick="window.openHealthModal('home')"
            class="inline-flex items-center px-8 py-4 bg-red-600 hover:bg-red-700 text-white font-semibold text-lg rounded-xl transition-colors duration-300"
            aria-label="Book free consultation - independent & in English"
            aria-describedby="cta-description"
          >
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
            <div>
              <div class="font-semibold">Book Free Consultation</div>
              <div class="text-red-200 text-sm font-normal">30–60 min video call</div>
            </div>
          </button>

          <!-- Secondary CTA - Green -->
          <button 
            onclick="window.openHealthModal('home')"
            class="inline-flex items-center px-8 py-4 bg-green-600 hover:bg-green-700 text-white font-semibold text-lg rounded-xl transition-colors duration-300"
            aria-label="Get 3 best offers - free, independent & in English"
          >
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
            </svg>
            <div>
              <div class="font-semibold">Get 3 Best Offers</div>
              <div class="text-green-200 text-sm font-normal">Takes ~1 min</div>
            </div>
          </button>
        </div>

        <!-- Accessibility description -->
        <p id="cta-description" class="sr-only">Free, independent & in English</p>
      </div>
    </div>
  </div>

  <!-- 2026 Premium Overview -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
          2026 Premiums in {city}: what to expect
        </h2>
        <p class="max-w-3xl mx-auto text-lg text-gray-600">
          {city} is in premium region 1 (the highest), reflecting advanced healthcare infrastructure and higher overall costs. Choosing the right model (Telmed/HMO) can significantly reduce your monthly premiums.
        </p>
      </div>

      <!-- Premium Table -->
      <div class="max-w-4xl mx-auto">
        <div class="bg-white rounded-2xl shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100 overflow-hidden">
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="bg-gray-50 border-b border-gray-200">
                <tr>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">Profile</th>
                  <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">Model</th>
                  <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">Deductible</th>
                  <th class="px-6 py-4 text-right text-sm font-semibold text-gray-900">Typical monthly range (CHF)</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                {premiumTable.map((row) => (
                  <tr class="hover:bg-gray-50 transition-colors">
                    <td class="px-6 py-4 text-sm text-gray-900 font-medium">{row.profile}</td>
                    <td class="px-6 py-4 text-sm text-gray-600">{row.model}</td>
                    <td class="px-6 py-4 text-sm text-gray-600 text-right">{row.deductible}</td>
                    <td class="px-6 py-4 text-sm text-gray-900 font-semibold text-right">{row.range}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
          
          <div class="bg-gray-50 px-6 py-4 border-t border-gray-200">
            <p class="text-sm text-gray-600 italic">
              <strong>Note:</strong> These are indicative ranges. We'll send <strong>3 tailored offers</strong> for your postcode within 24h.
            </p>
          </div>
        </div>

        <!-- Model Explanations -->
        <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="bg-white rounded-xl p-6 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100">
            <h3 class="font-semibold text-gray-900 mb-2">Telmed/HMO Savings</h3>
            <p class="text-sm text-gray-600">Save 10-25% vs Standard model by accepting some restrictions on doctor choice.</p>
          </div>
          <div class="bg-white rounded-xl p-6 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100">
            <h3 class="font-semibold text-gray-900 mb-2">Deductible Logic</h3>
            <p class="text-sm text-gray-600">Higher deductible = lower monthly premium. Choose based on your expected healthcare usage.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- How to Set Up or Switch -->
  <div class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
          How to set up or switch (for 1 Jan 2026)
        </h2>
      </div>

      <div class="max-w-4xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- Step 1 -->
          <div class="bg-white rounded-2xl p-8 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100 text-center">
            <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
              <span class="text-2xl font-bold text-red-600">1</span>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Compare models & premiums</h3>
            <p class="text-gray-600">Compare Telmed/HMO/Family Doctor/Standard models and their costs for your situation.</p>
          </div>

          <!-- Step 2 -->
          <div class="bg-white rounded-2xl p-8 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100 text-center">
            <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
              <span class="text-2xl font-bold text-red-600">2</span>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Apply to the new insurer</h3>
            <p class="text-gray-600">Basic insurance = guaranteed acceptance. No health questions or waiting periods.</p>
          </div>

          <!-- Step 3 -->
          <div class="bg-white rounded-2xl p-8 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100 text-center">
            <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
              <span class="text-2xl font-bold text-red-600">3</span>
            </div>
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Send cancellation by <strong>30 November 2025</strong></h3>
            <p class="text-gray-600">Cancel your current policy to start fresh on 1 January 2026.</p>
          </div>
        </div>

        <!-- Inline CTA -->
        <div class="mt-12 text-center">
          <div class="bg-white rounded-xl p-6 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100 inline-block">
            <p class="text-gray-600 mb-4">Not sure which option is best for you?</p>
            <button 
              onclick="window.openHealthModal('home')"
              class="inline-flex items-center px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg shadow-[4px_4px_8px_#d9d9d9,-4px_-4px_8px_#ffffff] hover:shadow-[6px_6px_12px_#d1d1d1,-6px_-6px_12px_#ffffff] transition-all duration-300"
            >
              Book a free consultation (recommended)
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Premium Subsidies -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
            Premium subsidies ({canton})
          </h2>
        </div>

        <div class="bg-white rounded-2xl p-8 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="text-center">
              <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </div>
              <h3 class="font-semibold text-gray-900 mb-2">Who qualifies</h3>
              <p class="text-sm text-gray-600">Income-based eligibility varies by canton and household size</p>
            </div>
            
            <div class="text-center">
              <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
              </div>
              <h3 class="font-semibold text-gray-900 mb-2">What you need</h3>
              <p class="text-sm text-gray-600">Insurance policy details and tax information</p>
            </div>
            
            <div class="text-center">
              <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <h3 class="font-semibold text-gray-900 mb-2">Decision time</h3>
              <p class="text-sm text-gray-600">Processing varies by canton - apply early</p>
            </div>
          </div>

          <div class="text-center">
            <a 
              href={subsidyUrl}
              target="_blank"
              rel="nofollow noopener"
              class="inline-flex items-center px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-[4px_4px_8px_#d9d9d9,-4px_-4px_8px_#ffffff] hover:shadow-[6px_6px_12px_#d1d1d1,-6px_-6px_12px_#ffffff] transition-all duration-300"
            >
              Apply for subsidies
              <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
              </svg>
            </a>
          </div>

          <div class="mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200">
            <p class="text-sm text-blue-800">
              <strong>For expats:</strong> Residency and tax residence in Switzerland affects eligibility. Most subsidies require you to be registered and paying taxes in {canton}.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Popular Insurers -->
  <div class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
          Popular insurers in {city}
        </h2>
      </div>

      <div class="max-w-4xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-white rounded-xl p-6 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100">
            <h3 class="font-semibold text-gray-900 mb-2">
              <a href="/healthcare/all-insurances/css/" class="text-red-600 hover:text-red-700">CSS</a>
            </h3>
            <p class="text-sm text-gray-600">Broad network, competitive HMO/Telmed options</p>
          </div>
          
          <div class="bg-white rounded-xl p-6 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100">
            <h3 class="font-semibold text-gray-900 mb-2">
              <a href="/healthcare/all-insurances/swica/" class="text-red-600 hover:text-red-700">Swica</a>
            </h3>
            <p class="text-sm text-gray-600">Strong service, wellness benefits</p>
          </div>
          
          <div class="bg-white rounded-xl p-6 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100">
            <h3 class="font-semibold text-gray-900 mb-2">
              <a href="/healthcare/all-insurances/helsana/" class="text-red-600 hover:text-red-700">Helsana</a>
            </h3>
            <p class="text-sm text-gray-600">Digital tools, cross-border friendly</p>
          </div>
          
          <div class="bg-white rounded-xl p-6 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100">
            <h3 class="font-semibold text-gray-900 mb-2">
              <a href="/healthcare/all-insurances/sanitas/" class="text-red-600 hover:text-red-700">Sanitas</a>
            </h3>
            <p class="text-sm text-gray-600">App-first options</p>
          </div>
        </div>

        <div class="mt-8 text-center">
          <p class="text-gray-600 mb-4">
            We compare all major insurers and send <strong>3 tailored offers</strong> within 24 hours.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- FAQs -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
            FAQs — health insurance in {city}
          </h2>
        </div>

        <div class="space-y-6">
          {faqs.map((faq, index) => (
            <div class="bg-white rounded-xl p-6 shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] border border-gray-100">
              <h3 class="text-lg font-semibold text-gray-900 mb-3">{faq.question}</h3>
              <p class="text-gray-600 leading-relaxed">{faq.answer}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>

  <!-- Strong Closing CTAs -->
  <div class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-8">
        Ready to get started?
      </h2>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <!-- Primary CTA -->
        <button 
          onclick="window.openHealthModal('home')"
          class="group relative inline-flex items-center px-8 py-4 bg-red-600 hover:bg-red-700 text-white font-semibold text-lg rounded-xl shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] hover:shadow-[12px_12px_20px_#d1d1d1,-12px_-12px_20px_#ffffff] transition-all duration-300 transform hover:scale-105"
        >
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
          Book Free Consultation
          <span class="block text-sm text-red-100 font-normal">(recommended)</span>
        </button>

        <!-- Secondary CTA -->
        <button 
          onclick="window.openHealthModal('home')"
          class="group relative inline-flex items-center px-8 py-4 bg-green-600 hover:bg-green-700 text-white font-semibold text-lg rounded-xl shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] hover:shadow-[12px_12px_20px_#d1d1d1,-12px_-12px_20px_#ffffff] transition-all duration-300 transform hover:scale-105"
        >
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
          </svg>
          Get 3 Best Offers
          <span class="block text-sm text-green-100 font-normal">(≈1 min)</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Internal Linking Block -->
  <div class="bg-white py-16 border-t border-gray-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <!-- City Comparisons -->
        <div class="text-center mb-8">
          <h3 class="text-xl font-semibold text-gray-900 mb-4">Compare premiums</h3>
          <div class="flex flex-wrap justify-center gap-4">
            <a href="/health-insurance/geneva/" class="text-red-600 hover:text-red-700 font-medium">{city} vs Geneva</a>
            <span class="text-gray-400">|</span>
            <a href="/health-insurance/basel/" class="text-red-600 hover:text-red-700 font-medium">{city} vs Basel</a>
            <span class="text-gray-400">|</span>
            <a href="/health-insurance/zug/" class="text-red-600 hover:text-red-700 font-medium">{city} vs Zug</a>
          </div>
        </div>

        <!-- Main Guides -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <a href="/health-insurance/" class="block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
            <h4 class="font-semibold text-gray-900 mb-2">Swiss Health Insurance for Expats (2026 Guide)</h4>
            <p class="text-sm text-gray-600">Complete overview of the Swiss system</p>
          </a>
          
          <a href="/blog/how-to-change-swiss-health-insurance-2026/" class="block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
            <h4 class="font-semibold text-gray-900 mb-2">How to Change Health Insurance</h4>
            <p class="text-sm text-gray-600">Step-by-step switching guide</p>
          </a>
          
          <a href="/ai-chat/" class="block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
            <h4 class="font-semibold text-gray-900 mb-2">AI Insurance Calculator</h4>
            <p class="text-sm text-gray-600">Get instant personalized advice</p>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Include the OffersModal -->
  <OffersModal />

  <!-- Tracking Script -->
  <script>
    // Track page view
    if (typeof umami !== 'undefined') {
      umami.track('city_page_view', { 
        city: 'Zurich',
        page: window.location.pathname 
      });
    }
  </script>
</Layout>
