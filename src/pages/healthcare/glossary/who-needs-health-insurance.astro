---
import Layout from '../../../layouts/Layout.astro';
import ConsultationModal from '../../../components/ConsultationModal.astro';

const breadcrumbs = [
  { name: "Home", href: "/" },
  { name: "Healthcare", href: "/healthcare" },
  { name: "Glossary", href: "/healthcare/glossary" },
  { name: "Who Needs Health Insurance", href: "/healthcare/glossary/who-needs-health-insurance" }
];

const exemptGroups = [
  {
    title: "Diplomats and International Officials",
    description: "Staff of diplomatic missions and international organizations with special status",
    details: [
      "UN employees with UNISS coverage",
      "Diplomatic mission staff with equivalent coverage",
      "International organization employees with internal insurance",
      "Must provide proof of equivalent coverage"
    ],
    icon: `<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
    </svg>`
  },
  {
    title: "Cross-Border Workers",
    description: "Employees living in EU/EFTA countries working in Switzerland",
    details: [
      "Option to keep home country insurance",
      "Must declare choice within 3 months",
      "Special forms required (E106/S1)",
      "Applies to EU/EFTA residents only"
    ],
    icon: `<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064" />
    </svg>`
  },
  {
    title: "Short-Term Students",
    description: "Students with equivalent coverage from home country",
    details: [
      "Must have European Health Insurance Card",
      "Private insurance meeting Swiss standards",
      "Maximum exemption period varies by canton",
      "Must apply for exemption within 3 months"
    ],
    icon: `<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
    </svg>`
  }
];

const premiumReductionInfo = {
  cantons: [
    {
      name: "Zurich",
      threshold: "Individual: CHF 36,000 / Family: CHF 54,000",
      maxReduction: "Up to 90% of premium"
    },
    {
      name: "Geneva",
      threshold: "Individual: CHF 30,000 / Family: CHF 50,000",
      maxReduction: "Up to 100% of premium"
    },
    {
      name: "Basel",
      threshold: "Individual: CHF 32,000 / Family: CHF 48,000",
      maxReduction: "Up to 65% of premium"
    },
    {
      name: "Bern",
      threshold: "Individual: CHF 34,000 / Family: CHF 52,000",
      maxReduction: "Up to 60% of premium"
    }
  ],
  requirements: [
    "Swiss residency permit",
    "Tax declaration from previous year",
    "Current health insurance policy details",
    "Bank account information",
    "Proof of income (if changed significantly from tax declaration)"
  ],
  applicationSteps: [
    {
      step: "Check Eligibility",
      description: "Review your canton's income thresholds and requirements"
    },
    {
      step: "Gather Documents",
      description: "Collect all necessary paperwork and proof of income"
    },
    {
      step: "Submit Application",
      description: "Apply through your canton's designated office or online platform"
    },
    {
      step: "Await Decision",
      description: "Processing time varies by canton (typically 1-3 months)"
    }
  ]
};

const faqs = [
  {
    question: "Do I need health insurance if I'm only staying in Switzerland for 3 months?",
    answer: "If your stay is less than 3 months and you have adequate coverage from your home country (e.g., European Health Insurance Card for EU residents), you may not need Swiss health insurance. However, for stays longer than 3 months, health insurance becomes mandatory."
  },
  {
    question: "Can I keep my EU health insurance when moving to Switzerland?",
    answer: "Generally no, unless you're a cross-border worker or student with specific exemptions. Most residents must take out Swiss health insurance within 3 months of arrival, regardless of existing coverage from their home country."
  },
  {
    question: "How do I apply for premium reduction (Pr채mienverbilligung)?",
    answer: "The application process varies by canton but typically requires submitting an application form along with proof of income and residency to your canton's social services department. Some cantons automatically assess eligibility based on tax returns."
  },
  {
    question: "What happens if I lose my job - can I get premium reduction?",
    answer: "Yes, if you lose your job, you can apply for premium reduction based on your new financial situation. Contact your canton's social services department immediately, as they may be able to reassess your eligibility outside the normal application period."
  },
  {
    question: "Do children need their own health insurance?",
    answer: "Yes, every person residing in Switzerland, including children, must have their own health insurance policy. However, children under 18 often receive significant discounts, and many cantons provide higher premium reductions for children's policies."
  }
];
---

<Layout
  title="Who Needs Health Insurance in Switzerland? | Complete Guide 2025"
  description="Learn about health insurance requirements in Switzerland, exemptions, deadlines, and premium subsidies (Pr채mienverbilligung) by canton. Updated for 2025."
>
  <!-- Schema.org markup -->
  <script type="application/ld+json" slot="head">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "Who Needs Health Insurance in Switzerland? Complete Guide 2025",
      "description": "Comprehensive guide explaining Swiss health insurance requirements, exemptions, and premium reduction options across different cantons.",
      "image": "https://res.cloudinary.com/dphbnwjtx/image/upload/v1736285944/joshua-earle--87JyMb9ZfU-unsplash_4_rkfzpq.webp",
      "datePublished": "2025-01-15",
      "dateModified": "2025-01-15",
      "author": {
        "@type": "Organization",
        "name": "Expat Savvy"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Expat Savvy",
        "logo": {
          "@type": "ImageObject",
          "url": "https://res.cloudinary.com/dphbnwjtx/image/upload/v1740080077/logoexpatsavvy_sykutm.svg"
        }
      },
      "mainEntity": {
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "Do I need health insurance if I'm only staying in Switzerland for 3 months?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "If your stay is less than 3 months and you have adequate coverage from your home country (e.g., European Health Insurance Card for EU residents), you may not need Swiss health insurance. However, for stays longer than 3 months, health insurance becomes mandatory."
            }
          },
          {
            "@type": "Question",
            "name": "How do I apply for premium reduction (Pr채mienverbilligung)?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "The application process varies by canton but typically requires submitting an application form along with proof of income and residency to your canton's social services department. Some cantons automatically assess eligibility based on tax returns."
            }
          }
        ]
      }
    }
  </script>

  <!-- Breadcrumbs -->
  <nav class="bg-gray-50 border-b" aria-label="Breadcrumb">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3">
      <ol class="flex items-center space-x-4">
        {breadcrumbs.map((item, index) => (
          <li class="flex items-center">
            {index > 0 && (
              <svg class="flex-shrink-0 h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
              </svg>
            )}
            <a
              href={item.href}
              class={`ml-4 text-sm font-medium ${
                index === breadcrumbs.length - 1
                  ? 'text-gray-700'
                  : 'text-gray-500 hover:text-gray-700'
              }`}
              aria-current={index === breadcrumbs.length - 1 ? 'page' : undefined}
            >
              {item.name}
            </a>
          </li>
        ))}
      </ol>
    </div>
  </nav>

  <!-- Hero Section -->
  <div class="bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <div class="text-center">
        <h1 class="text-4xl font-extrabold text-gray-900 sm:text-5xl md:text-6xl">
          <span class="block">Who Needs Health Insurance</span>
          <span class="block text-primary-600">in Switzerland?</span>
        </h1>
        <p class="mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
          Understand Swiss health insurance requirements, exemptions, and how to get help with premiums through cantonal reduction programs.
        </p>
      </div>
    </div>
  </div>

  <!-- General Requirements -->
  <div class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">General Requirements</h2>
        <div class="bg-white rounded-lg shadow-md p-8">
          <p class="text-gray-600 mb-6">
            Under Swiss law (KVG/LAMal), health insurance is mandatory for:
          </p>
          <ul class="space-y-4">
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">All residents staying more than 3 months</span>
            </li>
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">All persons with a Swiss work permit</span>
            </li>
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">Children from birth (including non-Swiss children)</span>
            </li>
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">Asylum seekers and provisionally admitted persons</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Exempt Groups -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">Who Is Exempt?</h2>
        <div class="grid grid-cols-1 gap-8">
          {exemptGroups.map(group => (
            <div class="bg-gray-50 rounded-lg p-6">
              <div class="flex items-start">
                <div class="flex-shrink-0">
                  <div class="flex items-center justify-center h-12 w-12 rounded-md bg-primary-500 text-white">
                    <Fragment set:html={group.icon} />
                  </div>
                </div>
                <div class="ml-4">
                  <h3 class="text-lg font-medium text-gray-900">{group.title}</h3>
                  <p class="mt-2 text-gray-600">{group.description}</p>
                  <ul class="mt-4 space-y-2">
                    {group.details.map(detail => (
                      <li class="flex items-start">
                        <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                        </svg>
                        <span class="text-gray-600">{detail}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>

  <!-- Premium Reduction Section -->
  <div class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">Premium Reduction (Pr채mienverbilligung)</h2>
        
        <!-- Introduction -->
        <div class="prose prose-lg mb-8">
          <p>
            Premium reduction is a cantonal subsidy system that helps lower-income residents afford mandatory health insurance. The amount and eligibility criteria vary by canton.
          </p>
        </div>

        <!-- Cantonal Comparison -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
          <h3 class="text-xl font-semibold text-gray-900 mb-4">Cantonal Comparison</h3>
          <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
              <thead class="bg-gray-50">
                <tr>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Canton</th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Income Threshold</th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Maximum Reduction</th>
                </tr>
              </thead>
              <tbody class="bg-white divide-y divide-gray-200">
                {premiumReductionInfo.cantons.map(canton => (
                  <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{canton.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{canton.threshold}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{canton.maxReduction}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>

        <!-- Requirements -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
          <h3 class="text-xl font-semibold text-gray-900 mb-4">Required Documents</h3>
          <ul class="space-y-2">
            {premiumReductionInfo.requirements.map(requirement => (
              <li class="flex items-start">
                <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                <span class="text-gray-600">{requirement}</span>
              </li>
            ))}
          </ul>
        </div>

        <!-- Application Process -->
        <div class="bg-white rounded-lg shadow-md p-6">
          <h3 class="text-xl font-semibold text-gray-900 mb-4">Application Process</h3>
          <div class="space-y-6">
            {premiumReductionInfo.applicationSteps.map((step, index) => (
              <div class="flex">
                <div class="flex-shrink-0">
                  <div class="flex items-center justify-center h-8 w-8 rounded-full bg-primary-100 text-primary-600 font-semibold">
                    {index + 1}
                  </div>
                </div>
                <div class="ml-4">
                  <h4 class="text-lg font-medium text-gray-900">{step.step}</h4>
                  <p class="mt-1 text-gray-600">{step.description}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Special Situations -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">Special Situations</h2>
        
        <!-- Unemployment -->
        <div class="bg-gray-50 rounded-lg p-6 mb-8">
          <h3 class="text-xl font-semibold text-gray-900 mb-4">Unemployment</h3>
          <p class="text-gray-600 mb-4">
            If you become unemployed, you may be eligible for immediate premium reduction:
          </p>
          <ul class="space-y-2">
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">Contact your canton's social services immediately</span>
            </li>
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">Provide unemployment benefit documentation</span>
            </li>
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">Special assessment outside normal application periods possible</span>
            </li>
          </ul>
        </div>

        <!-- Students -->
        <div class="bg-gray-50 rounded-lg p-6 mb-8">
          <h3 class="text-xl font-semibold text-gray-900 mb-4">Students</h3>
          <p class="text-gray-600 mb-4">
            Special conditions apply for students:
          </p>
          <ul class="space-y-2">
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">EU/EFTA students can use European Health Insurance Card for up to 12 months</span>
            </li>
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">Non-EU students must obtain Swiss insurance or prove equivalent coverage</span>
            </li>
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">Special student insurance plans available from some providers</span>
            </li>
          </ul>
        </div>

        <!-- Low Income -->
        <div class="bg-gray-50 rounded-lg p-6">
          <h3 class="text-xl font-semibold text-gray-900 mb-4">Low Income Situations</h3>
          <p class="text-gray-600 mb-4">
            Additional support available for low-income residents:
          </p>
          <ul class="space-y-2">
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">Social services can help with premium payments</span>
            </li>
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">Payment plans may be available</span>
            </li>
            <li class="flex items-start">
              <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-gray-600">Cantonal assistance programs available</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-gray-900 mb-12 text-center">Frequently Asked Questions</h2>
      <div class="max-w-3xl mx-auto">
        <dl class="space-y-8">
          {faqs.map(faq => (
            <div class="bg-white rounded-lg shadow-md p-6">
              <dt class="text-lg font-semibold text-gray-900 mb-2">{faq.question}</dt>
              <dd class="text-gray-600">{faq.answer}</dd>
            </div>
          ))}
        </dl>
      </div>
    </div>
  </div>

  <!-- CTA Section -->
  <div class="bg-primary-600">
    <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <h2 class="text-3xl font-extrabold text-white sm:text-4xl">
          Need help with your insurance situation?
        </h2>
        <p class="mt-4 text-xl text-primary-100">
          Get expert guidance to understand your options and requirements
        </p>
        <div class="mt-8">
          <button
            onclick="showConsultationModal()"
            class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-primary-50 transition-colors duration-300"
          >
            Schedule Free Consultation
          </button>
        </div>
      </div>
    </div>
  </div>

  <ConsultationModal />
</Layout>