---
import Layout from '../layouts/Layout.astro';
import ConsultationModal from '../components/ConsultationModal.astro';
import InsuranceComparison from '../components/InsuranceComparison.astro';

const providers = [
  {
    name: "Assura",
    basicPremium: 280,
    deductible: 300,
    rating: 4,
    features: [
      "Competitive premiums",
      "Digital services",
      "Alternative medicine coverage"
    ],
    link: "/healthcare/all-insurances/assura"
  },
  {
    name: "CSS",
    basicPremium: 310,
    deductible: 300,
    rating: 5,
    features: [
      "Extensive network",
      "24/7 support",
      "Digital claims processing"
    ],
    link: "/healthcare/all-insurances/css"
  },
  {
    name: "Groupe Mutuel",
    basicPremium: 290,
    deductible: 300,
    rating: 4,
    features: [
      "Multiple models",
      "Digital services",
      "Family plans"
    ],
    link: "/healthcare/all-insurances/groupe-mutuel"
  },
  {
    name: "Helsana",
    basicPremium: 320,
    deductible: 300,
    rating: 5,
    features: [
      "Bonus programs",
      "Digital health services",
      "Wide coverage"
    ],
    link: "/healthcare/all-insurances/helsana"
  },
  {
    name: "Swica",
    basicPremium: 300,
    deductible: 300,
    rating: 5,
    features: [
      "Health programs",
      "Digital tools",
      "Alternative medicine"
    ],
    link: "/healthcare/all-insurances/swica"
  },
  {
    name: "Sanitas",
    basicPremium: 295,
    deductible: 300,
    rating: 4,
    features: [
      "International coverage",
      "Digital platform",
      "Health coaching"
    ],
    link: "/healthcare/all-insurances/sanitas"
  }
];

const premiumRegions = [
  {
    name: "Region 1",
    description: "Major cities and metropolitan areas",
    examples: "Zurich, Geneva, Basel city centers",
    premiumRange: "350-550 CHF"
  },
  {
    name: "Region 2",
    description: "Mid-sized cities and suburban areas",
    examples: "City outskirts, larger towns",
    premiumRange: "300-450 CHF"
  },
  {
    name: "Region 3",
    description: "Rural areas and smaller towns",
    examples: "Countryside, small communities",
    premiumRange: "280-400 CHF"
  }
];

const insuranceModels = [
  {
    name: "Standard Model",
    description: "Free choice of doctors throughout Switzerland",
    savings: "0%",
    bestFor: ["Maximum flexibility", "Direct specialist access", "No restrictions"]
  },
  {
    name: "Family Doctor",
    description: "Choose a designated family doctor as first point of contact",
    savings: "Up to 15%",
    bestFor: ["Coordinated care", "Lower premiums", "Personal relationship"]
  },
  {
    name: "HMO",
    description: "Use specific health centers as first point of contact",
    savings: "Up to 20%",
    bestFor: ["Significant savings", "Integrated care", "Urban areas"]
  },
  {
    name: "Telmed",
    description: "Call medical hotline before visiting doctor",
    savings: "Up to 15%",
    bestFor: ["Convenience", "Lower premiums", "Simple conditions"]
  }
];

const deductibleOptions = [
  {
    type: "Adults",
    options: [
      { amount: 300, savings: "0%" },
      { amount: 500, savings: "8%" },
      { amount: 1000, savings: "12%" },
      { amount: 1500, savings: "16%" },
      { amount: 2000, savings: "20%" },
      { amount: 2500, savings: "25%" }
    ]
  },
  {
    type: "Children",
    options: [
      { amount: 0, savings: "0%" },
      { amount: 100, savings: "5%" },
      { amount: 200, savings: "8%" },
      { amount: 300, savings: "10%" },
      { amount: 400, savings: "12%" },
      { amount: 500, savings: "15%" },
      { amount: 600, savings: "18%" }
    ]
  }
];

const faqs = [
  {
    question: "How do I compare health insurance providers?",
    answer: "Compare providers based on premiums, service quality, digital tools, and additional benefits. Consider factors like location (premium regions), preferred insurance model, and deductible options. Our comparison tool helps you evaluate these factors easily."
  },
  {
    question: "When can I switch insurance providers?",
    answer: "You can switch basic insurance providers by November 30th for coverage starting January 1st. If your insurer announces premium increases, you may have special termination rights within 30 days of notification."
  },
  {
    question: "What's the difference between premium regions?",
    answer: "Switzerland has three premium regions based on healthcare costs. Region 1 (urban centers) has the highest premiums, Region 2 (suburban areas) has moderate premiums, and Region 3 (rural areas) typically has lower premiums."
  },
  {
    question: "How much can I save by choosing a different model?",
    answer: "Alternative insurance models can offer significant savings: HMO models up to 20%, Family Doctor models up to 15%, and Telmed models up to 15%. The exact savings depend on your provider and location."
  },
  {
    question: "Are all basic insurance benefits the same?",
    answer: "Yes, basic insurance benefits are standardized by law across all providers. What differs are service quality, premium costs, and available insurance models. Supplementary insurance benefits can vary between providers."
  }
];
---

<Layout
  title="Compare Swiss Health Insurance Providers 2025 | Expert Guide"
  description="Compare Swiss health insurance providers and rates. Expert analysis of coverage, benefits, and service quality. Updated rates and expert insights for 2025."
>
  <!-- Hero Section -->
  <div class="relative bg-white overflow-hidden">
    <div class="absolute inset-0">
      <img 
        src="https://res.cloudinary.com/dphbnwjtx/image/upload/v1736285944/joshua-earle--87JyMb9ZfU-unsplash_4_rkfzpq.webp"
        alt="Swiss mountains"
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-black/60 to-black/40"></div>
    </div>
    
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-32">
      <div class="text-center">
        <h1 class="text-4xl md:text-6xl font-extrabold text-white mb-6">
          <span class="block">Compare Health Insurance</span>
          <span class="block mt-2">Providers in <span class="text-primary-500">Switzerland</span></span>
        </h1>
        <p class="mt-6 max-w-lg mx-auto text-xl text-gray-300">
          Find the best health insurance coverage for your needs. Compare providers, understand premium regions, and make an informed choice.
        </p>
        <div class="mt-10 flex flex-col sm:flex-row items-center justify-center gap-4">
          <button
            onclick="showConsultationModal()"
            class="inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 transition-colors duration-300 shadow-lg hover:shadow-xl"
          >
            Get Expert Help
            <svg class="ml-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
            </svg>
          </button>
          <a
            href="#compare"
            class="inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-primary-700 bg-white hover:bg-gray-50 transition-colors duration-300 shadow-lg hover:shadow-xl"
          >
            Compare Now
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Insurance Providers Comparison -->
  <div id="compare" class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-extrabold text-center text-gray-900 mb-12">Compare Top Providers</h2>
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Provider</th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Basic Premium*</th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rating</th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Key Features</th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Action</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            {providers.map((provider) => (
              <tr>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{provider.name}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">From CHF {provider.basicPremium}</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <div class="flex items-center">
                    {Array.from({ length: provider.rating }).map(() => (
                      <svg class="h-5 w-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                      </svg>
                    ))}
                  </div>
                </td>
                <td class="px-6 py-4 text-sm text-gray-500">
                  <ul class="list-disc list-inside">
                    {provider.features.map((feature) => (
                      <li>{feature}</li>
                    ))}
                  </ul>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm">
                  <a 
                    href={provider.link}
                    class="text-primary-600 hover:text-primary-900"
                  >
                    Learn More â†’
                  </a>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
        <p class="mt-4 text-sm text-gray-500">* Basic premiums shown are starting prices for Region 3 with standard 300 CHF deductible. Actual premiums vary by region, age, and chosen model.</p>
      </div>
    </div>
  </div>

  <!-- Premium Regions -->
  <div class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">Understanding Premium Regions</h2>
        <p class="text-lg text-gray-600 mb-8">
          Health insurance premiums in Switzerland vary by region based on healthcare costs. Each canton is divided into up to three premium regions:
        </p>
        <div class="space-y-6">
          {premiumRegions.map(region => (
            <div class="bg-white rounded-lg shadow-md p-6">
              <h3 class="text-xl font-semibold text-gray-900 mb-2">{region.name}</h3>
              <p class="text-gray-600 mb-2">{region.description}</p>
              <div class="flex justify-between items-center mt-4 text-sm">
                <span class="text-gray-500">Examples: {region.examples}</span>
                <span class="font-medium text-primary-600">Monthly Premium: {region.premiumRange}</span>
              </div>
            </div>
          ))}
        </div>
        <p class="mt-6 text-sm text-gray-500">
          Note: Not all cantons use all three regions. Some may only use one or two regions depending on their healthcare cost structure.
        </p>
      </div>
    </div>
  </div>

  <!-- Insurance Models -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-gray-900 mb-12 text-center">Insurance Models</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        {insuranceModels.map(model => (
          <div class="bg-white rounded-lg shadow-md p-6 border border-gray-200 hover:border-primary-500 transition-colors">
            <h3 class="text-xl font-semibold text-gray-900 mb-2">{model.name}</h3>
            <p class="text-gray-600 mb-4">{model.description}</p>
            <div class="inline-block px-3 py-1 mb-4 text-sm font-semibold text-primary-700 bg-primary-100 rounded-full">
              Premium Savings: {model.savings}
            </div>
            <h4 class="font-medium text-gray-900 mb-2">Best For:</h4>
            <ul class="space-y-2">
              {model.bestFor.map(item => (
                <li class="flex items-center text-sm text-gray-500">
                  <svg class="h-4 w-4 text-primary-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                  </svg>
                  {item}
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </div>
  </div>

  <!-- Deductible Options -->
  <div class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">Deductible Options</h2>
        <p class="text-lg text-gray-600 mb-8">
          Your deductible (franchise) is the amount you pay for medical expenses before insurance coverage begins. Higher deductibles mean lower monthly premiums.
        </p>
        <div class="grid gap-8">
          {deductibleOptions.map(option => (
            <div class="bg-white rounded-lg shadow-md p-6">
              <h3 class="text-xl font-semibold text-gray-900 mb-4">{option.type}</h3>
              <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                  <thead class="bg-gray-50">
                    <tr>
                      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Deductible (CHF)</th>
                      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Premium Savings</th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                    {option.options.map(opt => (
                      <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{opt.amount}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{opt.savings}</td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-gray-900 mb-12 text-center">Frequently Asked Questions</h2>
      <div class="max-w-3xl mx-auto">
        <dl class="space-y-8">
          {faqs.map(faq => (
            <div class="bg-white rounded-lg shadow-md p-6">
              <dt class="text-lg font-semibold text-gray-900 mb-2">{faq.question}</dt>
              <dd class="text-gray-600">{faq.answer}</dd>
            </div>
          ))}
        </dl>
      </div>
    </div>
  </div>

  <!-- CTA Section -->
  <div class="bg-primary-600">
    <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <h2 class="text-3xl font-extrabold text-white sm:text-4xl">
          Need help choosing the right insurance?
        </h2>
        <p class="mt-4 text-xl text-primary-100">
          Get expert guidance to find the perfect coverage for your needs
        </p>
        <div class="mt-8">
          <button
            onclick="showConsultationModal()"
            class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-primary-50 transition-colors duration-300"
          >
            Schedule Free Consultation
          </button>
        </div>
      </div>
    </div>
  </div>

  <ConsultationModal />
</Layout>