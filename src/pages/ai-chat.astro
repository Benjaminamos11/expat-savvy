---
import Layout from '../layouts/Layout.astro';
import ConsultationModal from '../components/consultation/ConsultationModal.astro';
import AIChatModal from '../components/AIChatModal.astro';

const features = [
  {
    title: "Premium Calculator",
    description: "Get instant estimates for your basic health insurance premiums",
    icon: `<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2" />
    </svg>`
  },
  {
    title: "Insurance Forms",
    description: "Request termination forms and other important documents",
    icon: `<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
    </svg>`
  },
  {
    title: "Coverage Comparison",
    description: "Get detailed comparisons of insurance options and providers",
    icon: `<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
    </svg>`
  },
  {
    title: "Expert Consultation",
    description: "Schedule meetings or request callbacks from our insurance experts",
    icon: `<svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
    </svg>`
  }
];
---

<Layout
  title="AI Insurance Assistant | Instant Help & Calculations"
  description="Get instant help with Swiss insurance questions, premium calculations, and coverage comparisons. Our AI assistant is available 24/7 to help you make informed decisions."
>
  <!-- Hero Section -->
  <div class="bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <div class="text-center">
        <h1 class="text-4xl font-extrabold text-gray-900 sm:text-5xl md:text-6xl">
          <span class="block">Your 24/7</span>
          <span class="block text-primary-600">Insurance Assistant</span>
        </h1>
        <p class="mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
          Get instant answers to your insurance questions, calculate premiums, and compare coverage options with our AI-powered assistant.
        </p>
        <div class="mt-8">
          <button
            onclick="showAIChatModal()"
            class="ai-chat-button inline-flex items-center px-8 py-4 text-lg font-medium rounded-xl text-white bg-primary-600 hover:bg-primary-700 transform hover:scale-105 transition-all duration-300 shadow-xl hover:shadow-2xl relative group overflow-hidden"
          >
            <span class="relative z-10 flex items-center">
              Start Chat
              <svg class="ml-3 h-6 w-6 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
              </svg>
            </span>
            <div class="absolute inset-0 bg-gradient-to-r from-primary-500 via-primary-600 to-primary-700"></div>
            <div class="absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 to-primary-500 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
            <div class="absolute inset-0 ai-button-glow"></div>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Features Grid -->
  <div class="bg-gray-50 py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4">
        {features.map(feature => (
          <div class="bg-white rounded-lg shadow-md p-6">
            <div class="text-primary-500 mb-4">
              <Fragment set:html={feature.icon} />
            </div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">{feature.title}</h3>
            <p class="text-gray-600">{feature.description}</p>
          </div>
        ))}
      </div>
    </div>
  </div>

  <!-- Additional Information -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-3xl font-extrabold text-gray-900">Need More Help?</h2>
        <p class="mt-4 text-lg text-gray-500">
          While our AI assistant can help with many questions, sometimes you need a human touch. Schedule a free consultation with our insurance experts for personalized guidance.
        </p>
        <div class="mt-8">
          <button
            onclick="showConsultationModal()"
            class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700"
          >
            Book Free Consultation
          </button>
        </div>
      </div>
    </div>
  </div>

  <ConsultationModal />
  <AIChatModal />
</Layout>

<style>
  .ai-chat-button {
    isolation: isolate;
  }

  .ai-button-glow {
    background: radial-gradient(
      circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
      rgba(255, 255, 255, 0.3),
      transparent 50%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
    mix-blend-mode: overlay;
    pointer-events: none;
  }

  .ai-chat-button:hover .ai-button-glow {
    opacity: 1;
  }

  /* Add mouse tracking for button glow effect */
  .ai-chat-button {
    --mouse-x: 50%;
    --mouse-y: 50%;
  }
</style>

<script>
  // Add mouse tracking for button glow effect
  document.addEventListener('DOMContentLoaded', () => {
    const button = document.querySelector('.ai-chat-button');
    if (!button) return;

    button.addEventListener('mousemove', (e) => {
      const rect = button.getBoundingClientRect();
      const x = ((e.clientX - rect.left) / rect.width) * 100;
      const y = ((e.clientY - rect.top) / rect.height) * 100;
      
      button.style.setProperty('--mouse-x', `${x}%`);
      button.style.setProperty('--mouse-y', `${y}%`);
    });
  });
</script>