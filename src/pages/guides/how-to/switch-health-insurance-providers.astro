---
import Layout from '../../../layouts/Layout.astro';
import ConsultationModal from '../../../components/ConsultationModal.astro';

const switchingSteps = [
  {
    step: 1,
    title: "Research and Compare New Providers",
    description: "Start your research 2-3 months before the deadline",
    details: [
      "Use comparison tools like Priminfo.ch for basic insurance",
      "Compare premiums for your age, canton, and preferred deductible",
      "Research supplementary insurance options if needed",
      "Check customer service ratings and reviews",
      "Consider insurance models (HMO, Telmed, Family Doctor)"
    ],
    timeline: "October - Early November",
    icon: `<svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
    </svg>`
  },
  {
    step: 2,
    title: "Apply for Supplementary Insurance First",
    description: "Secure supplementary coverage before canceling current policy",
    details: [
      "Apply for new supplementary insurance 3-4 months early",
      "Complete health questionnaires honestly",
      "Wait for acceptance before proceeding",
      "Supplementary insurance can be refused or have exclusions",
      "Don't cancel current supplementary until new one is confirmed"
    ],
    timeline: "September - October",
    icon: `<svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
    </svg>`
  },
  {
    step: 3,
    title: "Submit Cancellation Notice",
    description: "Cancel your current basic insurance by November 30th",
    details: [
      "Send written cancellation notice (registered mail recommended)",
      "Include your policy number and personal details",
      "Specify cancellation date as December 31st",
      "Keep proof of delivery and copies of all documents",
      "Some insurers accept online cancellation"
    ],
    timeline: "By November 30th",
    icon: `<svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
    </svg>`
  },
  {
    step: 4,
    title: "Apply for New Basic Insurance",
    description: "Submit application to your chosen new provider",
    details: [
      "Apply for basic insurance with new provider",
      "Choose your preferred deductible and model",
      "Basic insurance cannot be refused",
      "Ensure coverage starts January 1st",
      "Confirm application acceptance in writing"
    ],
    timeline: "November - December",
    icon: `<svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
    </svg>`
  },
  {
    step: 5,
    title: "Confirm the Switch",
    description: "Verify everything is in order for January 1st",
    details: [
      "Receive confirmation from new insurer",
      "Receive cancellation confirmation from old insurer",
      "Update payment methods and bank details",
      "Inform your doctor and pharmacy of the change",
      "Keep all documentation for your records"
    ],
    timeline: "December",
    icon: `<svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
    </svg>`
  }
];

const commonMistakes = [
  {
    mistake: "Missing the November 30th Deadline",
    consequence: "Stuck with current insurer for another year",
    prevention: "Set calendar reminders and start process early"
  },
  {
    mistake: "Canceling Supplementary Insurance Too Early",
    consequence: "Gap in coverage or inability to get new supplementary insurance",
    prevention: "Secure new supplementary insurance before canceling current"
  },
  {
    mistake: "Not Comparing Total Costs",
    consequence: "Higher overall costs despite lower premiums",
    prevention: "Compare premiums + deductibles + out-of-pocket maximums"
  },
  {
    mistake: "Forgetting to Inform Healthcare Providers",
    consequence: "Billing issues and potential payment delays",
    prevention: "Update insurance details with all healthcare providers"
  }
];

const specialSituations = [
  {
    situation: "Moving Between Cantons",
    description: "Special switching rights when relocating",
    details: [
      "Can switch outside normal deadline when moving cantons",
      "Must notify within 3 months of moving",
      "Premiums will change based on new canton",
      "Good opportunity to reassess all coverage"
    ]
  },
  {
    situation: "Life Events (Marriage, Birth, etc.)",
    description: "Certain life events allow mid-year switching",
    details: [
      "Marriage, divorce, birth of child allow switching",
      "Must notify within 3 months of life event",
      "Can change deductible and insurance model",
      "Opportunity to optimize family coverage"
    ]
  },
  {
    situation: "Premium Increases",
    description: "Significant premium increases may allow switching",
    details: [
      "If premiums increase significantly, special switching rights may apply",
      "Check with your canton's health department",
      "Usually requires premium increase above certain threshold",
      "Rare but worth checking if facing large increases"
    ]
  }
];

const faqs = [
  {
    question: "When can I switch health insurance providers in Switzerland?",
    answer: "You can switch basic health insurance providers once per year by submitting a cancellation notice to your current insurer by November 30th, with the switch taking effect January 1st. Special circumstances like moving cantons or life events may allow mid-year switching."
  },
  {
    question: "How much notice do I need to give to cancel my health insurance?",
    answer: "You must give at least one month's notice. For the annual switching period, this means submitting your cancellation by November 30th for a December 31st cancellation date."
  },
  {
    question: "Can my new health insurance provider refuse my application?",
    answer: "No, basic health insurance providers cannot refuse applications or impose waiting periods. However, supplementary insurance can be refused, have exclusions, or include waiting periods based on your health status."
  },
  {
    question: "What happens if I miss the November 30th deadline?",
    answer: "If you miss the deadline, you'll generally be stuck with your current basic health insurance for another year. However, you may still be able to change your deductible or insurance model with your current provider."
  },
  {
    question: "Should I switch just to save money on premiums?",
    answer: "Consider the total cost including premiums, deductibles, and potential out-of-pocket expenses. Also factor in customer service quality, provider networks, and any supplementary insurance you need. The cheapest premium isn't always the best value."
  },
  {
    question: "Can I switch supplementary insurance separately from basic insurance?",
    answer: "Yes, supplementary insurance can usually be canceled with 3 months' notice at the end of any calendar year. However, getting new supplementary insurance requires health checks and can be refused."
  },
  {
    question: "What documents do I need to switch health insurance?",
    answer: "You'll need your current insurance policy details, personal identification, proof of residence, and for supplementary insurance, you may need to complete health questionnaires or provide medical records."
  }
];
---

<Layout
  title="How to Switch Health Insurance Providers in Switzerland: Complete 2025 Guide"
  description="Master the 5-step process to switch Swiss health insurance providers. Learn deadlines, avoid common mistakes, and optimize your coverage with expert guidance."
  image="https://res.cloudinary.com/dphbnwjtx/image/upload/v1747380214/a-raw-hand-drawn-sketch-in-red-and-black_yM5LAMJpTm-Te8bxUcy9dA_ft8QvD03QUKNb-RgM1rswg_t2lfzp.webp"
>
  <!-- Hero Section -->
  <div class="relative bg-white overflow-hidden min-h-screen flex items-center">
    <div class="absolute inset-0">
      <img 
        src="https://res.cloudinary.com/dphbnwjtx/image/upload/v1747380214/a-raw-hand-drawn-sketch-in-red-and-black_yM5LAMJpTm-Te8bxUcy9dA_ft8QvD03QUKNb-RgM1rswg_t2lfzp.webp"
        alt="Switching Health Insurance Providers"
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-black/70 to-black/50"></div>
    </div>
    
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-32">
      <div class="text-center">
        <h1 class="text-4xl md:text-6xl font-extrabold text-white mb-6">
          <span class="block">Switch Health Insurance</span>
          <span class="block mt-2">Providers in <span class="text-red-500">Switzerland</span></span>
        </h1>
        <p class="mt-6 max-w-xl mx-auto text-xl text-gray-300">
          Complete guide to switching your Swiss health insurance provider with step-by-step instructions and money-saving tips.
        </p>
        <div class="mt-10 flex flex-col sm:flex-row items-center justify-center gap-4">
          <button
            onclick="showConsultationModal()"
            class="inline-flex items-center px-8 py-4 border border-transparent text-lg font-medium rounded-md text-white bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 transition-all duration-300 shadow-lg hover:shadow-xl"
          >
            Get Switching Help
            <svg class="ml-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Key Information -->
  <div class="bg-gray-50 py-12 relative">
    <div class="absolute inset-0 opacity-5">
      <div class="h-full w-full" style="background-image: url('data:image/svg+xml;utf8,<svg width=&quot;60&quot; height=&quot;60&quot; viewBox=&quot;0 0 60 60&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;><g fill=&quot;none&quot; fill-rule=&quot;evenodd&quot;><g fill=&quot;%23dc2626&quot; fill-opacity=&quot;0.1&quot;><circle cx=&quot;30&quot; cy=&quot;30&quot; r=&quot;2&quot;/></g></g></svg>'); background-size: 60px 60px;"></div>
    </div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">Essential Switching Information</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="bg-white rounded-lg p-6 shadow-lg hover:shadow-xl transition-all duration-300 text-center border border-gray-100 hover:border-red-200">
            <div class="bg-red-100 text-red-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">November 30 Deadline</h3>
            <p class="text-gray-600">Submit cancellation notice by November 30 for January 1 switch</p>
          </div>
          
          <div class="bg-white rounded-lg p-6 shadow-lg hover:shadow-xl transition-all duration-300 text-center border border-gray-100 hover:border-red-200">
            <div class="bg-red-100 text-red-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">Potential Savings</h3>
            <p class="text-gray-600">Save CHF 1,000-3,000+ annually by switching to optimal provider</p>
          </div>
          
          <div class="bg-white rounded-lg p-6 shadow-lg hover:shadow-xl transition-all duration-300 text-center border border-gray-100 hover:border-red-200">
            <div class="bg-red-100 text-red-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">No Coverage Gap</h3>
            <p class="text-gray-600">Seamless transition with continuous health insurance protection</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Step-by-Step Guide -->
  <div id="steps" class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">5-Step Guide to Switching Health Insurance</h2>
        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
          Follow this comprehensive timeline to ensure a smooth transition to your new health insurance provider without any coverage gaps.
        </p>
      </div>

      <div class="space-y-12">
        {switchingSteps.map((step, index) => (
          <div class="relative">
            {/* Timeline connector */}
            {index < switchingSteps.length - 1 && (
              <div class="absolute left-8 top-20 w-0.5 h-24 bg-red-200"></div>
            )}
            
            <div class="flex items-start">
              <div class="flex-shrink-0 w-16 h-16 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg">
                {step.step}
              </div>
              
              <div class="ml-8 flex-1">
                <div class="bg-red-50 rounded-lg p-6 border border-red-200 shadow-md hover:shadow-lg transition-all duration-300">
                  <div class="flex items-center mb-4">
                    <div class="text-red-600 mr-4">
                      <Fragment set:html={step.icon} />
                    </div>
                    <div>
                      <h3 class="text-xl font-semibold text-gray-900">{step.title}</h3>
                      <p class="text-gray-600 mt-1">{step.description}</p>
                      <span class="inline-block mt-2 px-3 py-1 bg-red-100 text-red-800 text-sm font-medium rounded-full">
                        {step.timeline}
                      </span>
                    </div>
                  </div>
                  
                  <ul class="space-y-2">
                    {step.details.map(detail => (
                      <li class="flex items-start">
                        <span class="text-red-600 mr-2 mt-1">•</span>
                        <span class="text-gray-700">{detail}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>

  <!-- Common Mistakes -->
  <div class="bg-gray-50 py-16 relative">
    <div class="absolute inset-0 opacity-5">
      <div class="h-full w-full" style="background-image: url('data:image/svg+xml;utf8,<svg width=&quot;60&quot; height=&quot;60&quot; viewBox=&quot;0 0 60 60&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;><g fill=&quot;none&quot; fill-rule=&quot;evenodd&quot;><g fill=&quot;%23dc2626&quot; fill-opacity=&quot;0.1&quot;><circle cx=&quot;30&quot; cy=&quot;30&quot; r=&quot;2&quot;/></g></g></svg>'); background-size: 60px 60px;"></div>
    </div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">Avoid These Common Mistakes</h2>
        <p class="text-lg text-gray-600">
          Learn from others' experiences and avoid costly errors when switching health insurance providers.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {commonMistakes.map(mistake => (
          <div class="bg-white rounded-lg p-6 shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:border-red-200">
            <div class="flex items-start">
              <div class="flex-shrink-0 w-8 h-8 bg-red-100 rounded-full flex items-center justify-center mr-4">
                <svg class="h-5 w-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </div>
              <div class="flex-1">
                <h3 class="text-lg font-semibold text-gray-900 mb-2">{mistake.mistake}</h3>
                <p class="text-red-600 text-sm mb-3">
                  <span class="font-medium">Consequence:</span> {mistake.consequence}
                </p>
                <p class="text-red-700 text-sm">
                  <span class="font-medium">Prevention:</span> {mistake.prevention}
                </p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>

  <!-- Special Situations -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">Special Switching Situations</h2>
        <p class="text-lg text-gray-600">
          Certain circumstances allow you to switch health insurance outside the normal annual deadline.
        </p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        {specialSituations.map(situation => (
          <div class="bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-6 border border-red-200 shadow-lg hover:shadow-xl transition-all duration-300">
            <h3 class="text-xl font-semibold text-gray-900 mb-3">{situation.situation}</h3>
            <p class="text-gray-600 mb-4">{situation.description}</p>
            
            <ul class="space-y-2">
              {situation.details.map(detail => (
                <li class="flex items-start">
                  <span class="text-red-600 mr-2 mt-0.5">•</span>
                  <span class="text-gray-700 text-sm">{detail}</span>
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="bg-gray-50 py-16 relative">
    <div class="absolute inset-0 opacity-5">
      <div class="h-full w-full" style="background-image: url('data:image/svg+xml;utf8,<svg width=&quot;60&quot; height=&quot;60&quot; viewBox=&quot;0 0 60 60&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;><g fill=&quot;none&quot; fill-rule=&quot;evenodd&quot;><g fill=&quot;%23dc2626&quot; fill-opacity=&quot;0.1&quot;><circle cx=&quot;30&quot; cy=&quot;30&quot; r=&quot;2&quot;/></g></g></svg>'); background-size: 60px 60px;"></div>
    </div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-12 text-center">Frequently Asked Questions</h2>
        
        <div class="space-y-6">
          {faqs.map(faq => (
            <div class="bg-white rounded-lg p-6 shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:border-red-200">
              <h3 class="text-lg font-semibold text-gray-900 mb-3">{faq.question}</h3>
              <p class="text-gray-700">{faq.answer}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>

  <!-- Related Guides -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-12 text-center">Related Health Insurance Guides</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <a href="/blog/best-health-insurance-switzerland" class="bg-white rounded-lg shadow-lg p-6 border border-gray-200 hover:border-red-500 transition-all hover:shadow-xl group">
            <div class="flex items-center mb-3">
              <div class="bg-red-100 text-red-600 p-2 rounded-lg mr-3">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 group-hover:text-red-600 transition-colors">Best Health Insurance Guide</h3>
            </div>
            <p class="text-gray-600">Comprehensive guide to choosing the best health insurance in Switzerland</p>
          </a>
          
          <a href="/guides/how-to/choose-health-insurance-deductible" class="bg-white rounded-lg shadow-lg p-6 border border-gray-200 hover:border-red-500 transition-all hover:shadow-xl group">
            <div class="flex items-center mb-3">
              <div class="bg-red-100 text-red-600 p-2 rounded-lg mr-3">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 group-hover:text-red-600 transition-colors">Choose Right Deductible</h3>
            </div>
            <p class="text-gray-600">Learn how to choose the optimal health insurance deductible for your situation</p>
          </a>
          
          <a href="/guides/how-to/add-family-health-insurance" class="bg-white rounded-lg shadow-lg p-6 border border-gray-200 hover:border-red-500 transition-all hover:shadow-xl group">
            <div class="flex items-center mb-3">
              <div class="bg-red-100 text-red-600 p-2 rounded-lg mr-3">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 group-hover:text-red-600 transition-colors">Add Family Members</h3>
            </div>
            <p class="text-gray-600">Step-by-step guide to adding family members to your health insurance</p>
          </a>
          
          <a href="/compare-providers" class="bg-white rounded-lg shadow-lg p-6 border border-gray-200 hover:border-red-500 transition-all hover:shadow-xl group">
            <div class="flex items-center mb-3">
              <div class="bg-red-100 text-red-600 p-2 rounded-lg mr-3">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2 2z"></path>
                </svg>
              </div>
              <h3 class="text-xl font-semibold text-gray-900 group-hover:text-red-600 transition-colors">Compare All Providers</h3>
            </div>
            <p class="text-gray-600">Side-by-side comparison of all Swiss health insurance providers</p>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- CTA Section -->
  <div class="bg-gradient-to-r from-red-600 to-red-700">
    <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <h2 class="text-3xl font-extrabold text-white sm:text-4xl">
          Need help switching health insurance providers?
        </h2>
        <p class="mt-4 text-xl text-red-100">
          Get expert guidance to ensure a smooth transition and avoid costly mistakes
        </p>
        <div class="mt-8">
          <button
            onclick="showConsultationModal()"
            class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-red-600 bg-white hover:bg-red-50 transition-all duration-300 shadow-lg hover:shadow-xl"
          >
            Get Expert Switching Advice
          </button>
        </div>
      </div>
    </div>
  </div>

  <ConsultationModal />

  <!-- FAQ Schema Markup -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": faqs.map(faq => ({
      "@type": "Question",
      "name": faq.question,
      "acceptedAnswer": {
        "@type": "Answer",
        "text": faq.answer
      }
    }))
  }, null, 2)} />

  <!-- How-To Schema Markup -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "HowTo",
    "name": "How to Switch Health Insurance Providers in Switzerland",
    "description": "Complete step-by-step guide to switching health insurance providers in Switzerland, including deadlines, requirements, and common mistakes to avoid.",
    "image": "https://res.cloudinary.com/dphbnwjtx/image/upload/v1747375513/minimalist-hand-drawn-sketch-using-only-_zZ2wOJfbRoSwic9nOrjywg_ukKmMvEzQba0iOFUtl7nLg_dvoy02.webp",
    "totalTime": "P3M",
    "estimatedCost": {
      "@type": "MonetaryAmount",
      "currency": "CHF",
      "value": "0"
    },
    "supply": [
      {
        "@type": "HowToSupply",
        "name": "Current insurance policy details"
      },
      {
        "@type": "HowToSupply", 
        "name": "Personal identification documents"
      }
    ],
    "step": switchingSteps.map((step, index) => ({
      "@type": "HowToStep",
      "position": index + 1,
      "name": step.title,
      "text": step.description,
      "url": `https://expat-savvy.ch/guides/how-to/switch-health-insurance-providers#step-${step.step}`
    }))
  }, null, 2)} />
</Layout>

<script>
  function showConsultationModal() {
    const modal = document.getElementById('consultation-modal');
    if (modal) {
      modal.classList.remove('hidden');
      document.body.classList.add('modal-open');
      
      document.dispatchEvent(new CustomEvent('modalOpened', {
        detail: { modalId: 'consultation-modal' }
      }));
    }
  }
</script> 