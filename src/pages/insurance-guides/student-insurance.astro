---
import Layout from '../../layouts/Layout.astro';
import ConsultationModal from '../../components/ConsultationModal.astro';

const breadcrumbs = [
  { name: "Home", href: "/" },
  { name: "Insurance Guides", href: "/insurance-guides" },
  { name: "Student Insurance", href: "/insurance-guides/student-insurance" }
];

const quickStats = [
  { label: "Foreign Students", value: "65,000+" },
  { label: "Exemption Rate", value: "~40%" },
  { label: "Average Savings", value: "50-70%" },
  { label: "Max Duration", value: "6 Years" }
];

const swisscareEligibility = {
  eligible: [
    "Students under 35 years old",
    "Enrolled in recognized Swiss educational institution",
    "Not working more than 20 hours per week",
    "Temporary residence permit (B permit for education)",
    "Maximum coverage duration of 6 years"
  ],
  notEligible: [
    "Students over 35 years old",
    "Working more than 20 hours per week",
    "Permanent residents (C permit)",
    "Students with family members in Switzerland",
    "PhD students with employment contracts"
  ]
};

const mandatoryInsurance = {
  whoNeeds: [
    "Students over 35 years old",
    "Working students (>20 hours/week)",
    "Students with family in Switzerland",
    "PhD students with employment contracts",
    "Students staying longer than 6 years"
  ],
  benefits: [
    "Comprehensive coverage",
    "No age restrictions",
    "Coverage for family members",
    "Long-term security",
    "Access to all Swiss healthcare providers"
  ]
};

const insuranceComparison = [
  {
    feature: "Monthly Premium",
    swisscare: "CHF 65-95",
    mandatory: "CHF 250-400",
    notes: "Swisscare offers significant savings for eligible students"
  },
  {
    feature: "Coverage Area",
    swisscare: "Switzerland + Home Country",
    mandatory: "Switzerland (worldwide for emergencies)",
    notes: "Swisscare includes home country coverage"
  },
  {
    feature: "Doctor Choice",
    swisscare: "Limited network",
    mandatory: "Free choice (standard model)",
    notes: "Mandatory insurance offers more flexibility"
  },
  {
    feature: "Family Coverage",
    swisscare: "Not available",
    mandatory: "Available",
    notes: "Students with family need mandatory insurance"
  },
  {
    feature: "Maximum Duration",
    swisscare: "6 years",
    mandatory: "Unlimited",
    notes: "Swisscare has time limitations"
  }
];

const applicationSteps = {
  swisscare: [
    {
      step: "Check Eligibility",
      description: "Verify you meet all Swisscare requirements",
      deadline: "Before arrival"
    },
    {
      step: "Gather Documents",
      description: "Prepare student visa, enrollment confirmation, and passport",
      deadline: "Before application"
    },
    {
      step: "Apply for Coverage",
      description: "Submit application through Swisscare website",
      deadline: "Before arrival ideal"
    },
    {
      step: "Request Exemption",
      description: "Submit exemption request to cantonal authorities",
      deadline: "Within 3 months of arrival"
    }
  ],
  mandatory: [
    {
      step: "Compare Providers",
      description: "Research different Swiss insurance companies",
      deadline: "First month"
    },
    {
      step: "Choose Model",
      description: "Select insurance model (standard, GP, or Telmed)",
      deadline: "During application"
    },
    {
      step: "Submit Application",
      description: "Apply with chosen provider",
      deadline: "Within 3 months"
    },
    {
      step: "Set Up Payments",
      description: "Arrange premium payments",
      deadline: "Upon acceptance"
    }
  ]
};

const faqs = [
  {
    question: "Can I use my home country insurance in Switzerland?",
    answer: "If you're from an EU/EFTA country and have a European Health Insurance Card (EHIC), you might be able to use it for basic coverage. However, you'll need to apply for exemption from mandatory Swiss insurance. Non-EU students typically need either Swisscare or Swiss mandatory insurance."
  },
  {
    question: "What happens if I start working during my studies?",
    answer: "If you start working more than 20 hours per week, you'll need to switch to mandatory Swiss insurance (KVG/LAMal). This applies even if you were previously covered by Swisscare or using your EHIC card."
  },
  {
    question: "Can I switch from Swisscare to mandatory insurance later?",
    answer: "Yes, you can switch to mandatory insurance at any time if your situation changes (e.g., starting work, turning 35, or bringing family to Switzerland). However, you cannot switch back to Swisscare once you've had mandatory insurance."
  },
  {
    question: "What if I'm doing a PhD in Switzerland?",
    answer: "PhD students with employment contracts (common in Switzerland) must take out mandatory insurance. This is because they're considered employees rather than students for insurance purposes."
  },
  {
    question: "Is dental care covered by student insurance?",
    answer: "Basic dental care is not covered by either Swisscare or mandatory insurance. For dental coverage, you'll need supplementary insurance. Swisscare offers optional dental packages, while Swiss insurers provide various dental coverage options."
  }
];
---

<Layout
  title="Student Health Insurance Switzerland | Expert Guide 2025"
  description="Find the best health insurance for students in Switzerland. Independent FINMA-certified advice â€” compare Swisscare vs mandatory insurance."
>
  <!-- Schema.org markup -->
  <script type="application/ld+json" slot="head">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "Student Health Insurance Guide Switzerland 2025",
      "description": "Comprehensive guide to health insurance options for students in Switzerland, including Swisscare and mandatory insurance requirements.",
      "datePublished": "2025-01-15",
      "dateModified": "2025-01-15",
      "author": {
        "@type": "Organization",
        "name": "Expat Savvy"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Expat Savvy",
        "logo": {
          "@type": "ImageObject",
          "url": "https://res.cloudinary.com/dphbnwjtx/image/upload/v1740080077/logoexpatsavvy_sykutm.svg"
        }
      },
      "mainEntity": {
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "Can I use my home country insurance in Switzerland?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "If you're from an EU/EFTA country and have a European Health Insurance Card (EHIC), you might be able to use it for basic coverage. However, you'll need to apply for exemption from mandatory Swiss insurance. Non-EU students typically need either Swisscare or Swiss mandatory insurance."
            }
          },
          {
            "@type": "Question",
            "name": "What happens if I start working during my studies?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "If you start working more than 20 hours per week, you'll need to switch to mandatory Swiss insurance (KVG/LAMal). This applies even if you were previously covered by Swisscare or using your EHIC card."
            }
          }
        ]
      }
    }
  </script>

  <!-- Breadcrumbs -->
  <nav class="bg-gray-50 border-b" aria-label="Breadcrumb">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3">
      <ol class="flex items-center space-x-4">
        {breadcrumbs.map((item, index) => (
          <li class="flex items-center">
            {index > 0 && (
              <svg class="flex-shrink-0 h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
              </svg>
            )}
            <a
              href={item.href}
              class={`ml-4 text-sm font-medium ${
                index === breadcrumbs.length - 1
                  ? 'text-gray-700'
                  : 'text-gray-500 hover:text-gray-700'
              }`}
              aria-current={index === breadcrumbs.length - 1 ? 'page' : undefined}
            >
              {item.name}
            </a>
          </li>
        ))}
      </ol>
    </div>
  </nav>

  <!-- Hero Section -->
  <div class="bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
      <div class="text-center">
        <h1 class="text-4xl font-extrabold text-gray-900 sm:text-5xl md:text-6xl">
          <span class="block">Student Insurance</span>
          <span class="block text-primary-600">in Switzerland</span>
        </h1>
        <p class="mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
          Understanding your insurance options as a student in Switzerland. Compare Swisscare and mandatory insurance to make the right choice for your situation.
        </p>

        <!-- Quick Stats -->
        <div class="mt-10 grid grid-cols-2 md:grid-cols-4 gap-4">
          {quickStats.map(stat => (
            <div class="bg-gray-50 rounded-lg p-4">
              <dt class="text-base font-medium text-gray-500">{stat.label}</dt>
              <dd class="mt-1 text-2xl font-semibold text-gray-900">{stat.value}</dd>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>

  <!-- Swisscare Eligibility -->
  <div class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">Swisscare Eligibility</h2>
        <div class="grid gap-8 md:grid-cols-2">
          <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Who Can Use Swisscare?</h3>
            <ul class="space-y-3">
              {swisscareEligibility.eligible.map(item => (
                <li class="flex items-start">
                  <svg class="h-5 w-5 text-green-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  <span class="text-gray-600">{item}</span>
                </li>
              ))}
            </ul>
          </div>
          <div class="bg-white rounded-lg shadow-md p-6">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Who Cannot Use Swisscare?</h3>
            <ul class="space-y-3">
              {swisscareEligibility.notEligible.map(item => (
                <li class="flex items-start">
                  <svg class="h-5 w-5 text-red-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                  <span class="text-gray-600">{item}</span>
                </li>
              ))}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mandatory Insurance Section -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">Mandatory Insurance (KVG/LAMal)</h2>
        <div class="grid gap-8 md:grid-cols-2">
          <div class="bg-gray-50 rounded-lg p-6">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Who Needs It?</h3>
            <ul class="space-y-3">
              {mandatoryInsurance.whoNeeds.map(item => (
                <li class="flex items-start">
                  <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  <span class="text-gray-600">{item}</span>
                </li>
              ))}
            </ul>
          </div>
          <div class="bg-gray-50 rounded-lg p-6">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">Key Benefits</h3>
            <ul class="space-y-3">
              {mandatoryInsurance.benefits.map(item => (
                <li class="flex items-start">
                  <svg class="h-5 w-5 text-primary-500 mt-1 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  <span class="text-gray-600">{item}</span>
                </li>
              ))}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Coverage Comparison -->
  <div class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">Coverage Comparison</h2>
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
              <tr>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Feature</th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Swisscare</th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mandatory Insurance</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              {insuranceComparison.map(item => (
                <tr>
                  <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{item.feature}</td>
                  <td class="px-6 py-4 text-sm text-gray-500">{item.swisscare}</td>
                  <td class="px-6 py-4 text-sm text-gray-500">{item.mandatory}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Application Process -->
  <div class="bg-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-900 mb-8">Application Process</h2>
        
        <!-- Swisscare Process -->
        <div class="mb-12">
          <h3 class="text-2xl font-semibold text-gray-900 mb-6">Swisscare Application</h3>
          <div class="space-y-6">
            {applicationSteps.swisscare.map((step, index) => (
              <div class="flex">
                <div class="flex-shrink-0">
                  <div class="flex items-center justify-center h-8 w-8 rounded-full bg-primary-100 text-primary-600 font-semibold">
                    {index + 1}
                  </div>
                </div>
                <div class="ml-4">
                  <h4 class="text-lg font-medium text-gray-900">{step.step}</h4>
                  <p class="text-gray-600">{step.description}</p>
                  <p class="text-sm text-primary-600 mt-1">Deadline: {step.deadline}</p>
                </div>
              </div>
            ))}
          </div>
        </div>

        <!-- Mandatory Insurance Process -->
        <div>
          <h3 class="text-2xl font-semibold text-gray-900 mb-6">Mandatory Insurance Application</h3>
          <div class="space-y-6">
            {applicationSteps.mandatory.map((step, index) => (
              <div class="flex">
                <div class="flex-shrink-0">
                  <div class="flex items-center justify-center h-8 w-8 rounded-full bg-primary-100 text-primary-600 font-semibold">
                    {index + 1}
                  </div>
                </div>
                <div class="ml-4">
                  <h4 class="text-lg font-medium text-gray-900">{step.step}</h4>
                  <p class="text-gray-600">{step.description}</p>
                  <p class="text-sm text-primary-600 mt-1">Deadline: {step.deadline}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="bg-gray-50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-gray-900 mb-12 text-center">Frequently Asked Questions</h2>
      <div class="max-w-3xl mx-auto">
        <dl class="space-y-8">
          {faqs.map(faq => (
            <div class="bg-white rounded-lg shadow-md p-6">
              <dt class="text-lg font-semibold text-gray-900 mb-2">{faq.question}</dt>
              <dd class="text-gray-600">{faq.answer}</dd>
            </div>
          ))}
        </dl>
      </div>
    </div>
  </div>

  <!-- CTA Section -->
  <div class="bg-primary-600">
    <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <h2 class="text-3xl font-extrabold text-white sm:text-4xl">
          Need help choosing student insurance?
        </h2>
        <p class="mt-4 text-xl text-primary-100">
          Get expert guidance to find the right coverage for your studies
        </p>
        <div class="mt-8">
          <button
            onclick="window.openOtherModal()"
            class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-primary-50 transition-colors duration-300"
          >
            Schedule Free Consultation
          </button>
        </div>
      </div>
    </div>
  </div>

  <ConsultationModal />
</Layout>