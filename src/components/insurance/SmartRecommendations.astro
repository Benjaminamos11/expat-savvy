---
---

<section class="bg-gradient-to-r from-red-50 to-pink-50 py-16">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold mb-4">Which Insurance is Best for YOUR Situation?</h2>
      <p class="text-xl text-gray-600">Click your profile to see personalized recommendations</p>
    </div>

    <div class="grid md:grid-cols-3 gap-6 mb-12">
      <!-- Persona 1: New to CH -->
      <button 
        class="persona-card bg-white rounded-2xl p-8 text-left hover:shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] transition-all shadow-[4px_4px_8px_#d9d9d9,-4px_-4px_8px_#ffffff] border-2 border-transparent hover:border-red-500"
        data-persona="new"
      >
        <div class="text-5xl mb-4">üÜï</div>
        <h3 class="text-xl font-semibold mb-2">New to Switzerland</h3>
        <p class="text-gray-600 mb-4">I just moved and need my first insurance</p>
        <div class="text-red-600 font-medium flex items-center">
          Show my options
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </div>
      </button>

      <!-- Persona 2: Want to Save -->
      <button 
        class="persona-card bg-white rounded-2xl p-8 text-left hover:shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] transition-all shadow-[4px_4px_8px_#d9d9d9,-4px_-4px_8px_#ffffff] border-2 border-transparent hover:border-red-500"
        data-persona="save"
      >
        <div class="text-5xl mb-4">üí∞</div>
        <h3 class="text-xl font-semibold mb-2">Want to Save Money</h3>
        <p class="text-gray-600 mb-4">My premiums are too high right now</p>
        <div class="text-red-600 font-medium flex items-center">
          Show my options
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </div>
      </button>

      <!-- Persona 3: Family -->
      <button 
        class="persona-card bg-white rounded-2xl p-8 text-left hover:shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] transition-all shadow-[4px_4px_8px_#d9d9d9,-4px_-4px_8px_#ffffff] border-2 border-transparent hover:border-red-500"
        data-persona="family"
      >
        <div class="text-5xl mb-4">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
        <h3 class="text-xl font-semibold mb-2">Family with Children</h3>
        <p class="text-gray-600 mb-4">Need family-friendly coverage</p>
        <div class="text-red-600 font-medium flex items-center">
          Show my options
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </div>
      </button>

      <!-- Persona 4: Pre-existing Conditions -->
      <button 
        class="persona-card bg-white rounded-2xl p-8 text-left hover:shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] transition-all shadow-[4px_4px_8px_#d9d9d9,-4px_-4px_8px_#ffffff] border-2 border-transparent hover:border-red-500"
        data-persona="conditions"
      >
        <div class="text-5xl mb-4">üè•</div>
        <h3 class="text-xl font-semibold mb-2">Pre-existing Conditions</h3>
        <p class="text-gray-600 mb-4">I have ongoing medical needs</p>
        <div class="text-red-600 font-medium flex items-center">
          Show my options
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </div>
      </button>

      <!-- Persona 5: Tech-savvy -->
      <button 
        class="persona-card bg-white rounded-2xl p-8 text-left hover:shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] transition-all shadow-[4px_4px_8px_#d9d9d9,-4px_-4px_8px_#ffffff] border-2 border-transparent hover:border-red-500"
        data-persona="digital"
      >
        <div class="text-5xl mb-4">üíª</div>
        <h3 class="text-xl font-semibold mb-2">Tech-savvy Professional</h3>
        <p class="text-gray-600 mb-4">I want best digital experience</p>
        <div class="text-red-600 font-medium flex items-center">
          Show my options
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </div>
      </button>

      <!-- Persona 6: Premium Service -->
      <button 
        class="persona-card bg-white rounded-2xl p-8 text-left hover:shadow-[8px_8px_16px_#d9d9d9,-8px_-8px_16px_#ffffff] transition-all shadow-[4px_4px_8px_#d9d9d9,-4px_-4px_8px_#ffffff] border-2 border-transparent hover:border-red-500"
        data-persona="premium"
      >
        <div class="text-5xl mb-4">üéØ</div>
        <h3 class="text-xl font-semibold mb-2">Premium Service</h3>
        <p class="text-gray-600 mb-4">I want the best customer support</p>
        <div class="text-red-600 font-medium flex items-center">
          Show my options
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </div>
      </button>
    </div>

    <!-- Recommendation Results (Hidden initially) -->
    <div id="recommendation-results" class="hidden">
      <div class="bg-white rounded-2xl p-8 shadow-[4px_4px_8px_#d9d9d9,-4px_-4px_8px_#ffffff]">
        <h3 class="text-2xl font-bold mb-6" id="result-title"></h3>
        
        <!-- Primary Recommendation -->
        <div class="mb-8 p-6 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl border-2 border-red-400">
          <div class="flex items-start space-x-4">
            <div class="text-4xl">ü•á</div>
            <div class="flex-1">
              <h4 class="text-xl font-semibold mb-2" id="primary-name"></h4>
              <p class="text-gray-700 mb-4" id="primary-reason"></p>
              <div class="flex items-center space-x-4 mb-4">
                <div>
                  <span class="text-sm text-gray-600">Your cost:</span>
                  <span class="text-2xl font-bold text-gray-900 ml-2" id="primary-price"></span>
                  <span class="text-sm text-gray-600">/month</span>
                </div>
              </div>
              <button 
                onclick="window.openOffersModal && window.openOffersModal('recommendation-primary')"
                class="px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all"
              >
                Get Quote for This Provider
              </button>
            </div>
          </div>
        </div>

        <!-- Alternative Recommendation -->
        <div class="mb-6 p-6 bg-gray-50 rounded-xl">
          <div class="flex items-start space-x-4">
            <div class="text-4xl">ü•à</div>
            <div class="flex-1">
              <h4 class="text-lg font-semibold mb-2" id="alternative-name"></h4>
              <p class="text-gray-600 mb-4" id="alternative-reason"></p>
              <div class="flex items-center space-x-4 mb-4">
                <div>
                  <span class="text-sm text-gray-600">Your cost:</span>
                  <span class="text-xl font-bold text-gray-900 ml-2" id="alternative-price"></span>
                  <span class="text-sm text-gray-600">/month</span>
                </div>
              </div>
              <button 
                onclick="window.openOffersModal && window.openOffersModal('recommendation-alternative')"
                class="px-6 py-3 bg-white border-2 border-gray-300 hover:border-red-500 text-gray-700 rounded-lg font-semibold transition-all"
              >
                Get Quote for This Provider
              </button>
            </div>
          </div>
        </div>

        <!-- Actions -->
        <div class="flex space-x-4">
          <button 
            onclick="window.openOffersModal && window.openOffersModal('recommendation-compare')"
            class="flex-1 px-6 py-3 bg-gray-900 hover:bg-gray-800 text-white rounded-lg font-semibold transition-all"
          >
            Compare Both Providers
          </button>
          <button 
            onclick="window.openOffersModal && window.openOffersModal('recommendation-expert')"
            class="flex-1 px-6 py-3 bg-white border-2 border-gray-300 hover:border-red-500 text-gray-700 rounded-lg font-semibold transition-all"
          >
            Talk to Expert
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  const recommendations = {
    new: {
      title: 'Best Insurance for New Arrivals',
      primary: {
        name: 'Swica',
        reason: 'Excellent English support, easy onboarding process, wellness programs that help you settle in, and entry-age pricing means your premiums won\'t increase with age.',
        price: 'CHF 338'
      },
      alternative: {
        name: 'CSS',
        reason: 'Lowest price option with largest provider network in Switzerland, making it easy to find doctors anywhere. Stable and reliable for newcomers.',
        price: 'CHF 326'
      }
    },
    save: {
      title: 'Best Insurance for Maximum Savings',
      primary: {
        name: 'CSS',
        reason: 'Lowest premiums across all cantons with excellent coverage. Largest network means you have flexibility. Consider HMO model for additional 15-25% savings.',
        price: 'CHF 326'
      },
      alternative: {
        name: 'Helsana',
        reason: 'Competitive pricing with strong digital tools. Preventive care programs can reduce long-term healthcare costs significantly.',
        price: 'CHF 335'
      }
    },
    family: {
      title: 'Best Insurance for Families',
      primary: {
        name: 'Concordia',
        reason: 'Cooperative model focused on member benefits. Third child gets 50% discount. Strong maternity and pediatric coverage with family-friendly claim processing.',
        price: 'CHF 445'
      },
      alternative: {
        name: 'Swica',
        reason: 'Entry-age pricing locks in rates. BENEVITA wellness program rewards healthy family activities with cashback. Excellent English support for expat families.',
        price: 'CHF 338'
      }
    },
    conditions: {
      title: 'Best Insurance with Pre-existing Conditions',
      primary: {
        name: 'Swica',
        reason: 'All providers must accept you for basic insurance, but Swica offers the best supplementary options without excessive waiting periods. Excellent case management for ongoing conditions.',
        price: 'CHF 338'
      },
      alternative: {
        name: 'Helsana',
        reason: 'Strong preventive care programs and health coaching. Comprehensive supplementary insurance options for ongoing treatment needs.',
        price: 'CHF 335'
      }
    },
    digital: {
      title: 'Best Insurance for Digital Experience',
      primary: {
        name: 'Helsana',
        reason: '4.9/5 rated mobile app with full English interface. Digital claims processing, online doctor consultations, and comprehensive health tracking tools.',
        price: 'CHF 335'
      },
      alternative: {
        name: 'Atupri',
        reason: 'Digital-first approach with streamlined online processes. Fast digital claim submission and automated approvals. Perfect for tech-savvy professionals.',
        price: 'CHF 442'
      }
    },
    premium: {
      title: 'Best Insurance for Premium Service',
      primary: {
        name: 'Swica',
        reason: 'Consistently rated #1 for customer service. Dedicated expat support team, 24/7 English assistance, personal advisors, and worldwide emergency coverage with direct billing.',
        price: 'CHF 338'
      },
      alternative: {
        name: 'Sanitas',
        reason: 'Premium customer experience with personal advisors for private/semi-private plans. Modern approach with quality-focused healthcare partnerships.',
        price: 'CHF 330'
      }
    }
  };

  document.addEventListener('DOMContentLoaded', () => {
    const personaCards = document.querySelectorAll('.persona-card');
    const resultsDiv = document.getElementById('recommendation-results');

    personaCards.forEach(card => {
      card.addEventListener('click', () => {
        const persona = (card as HTMLElement).dataset.persona as keyof typeof recommendations;
        const data = recommendations[persona];

        if (data) {
          // Update content
          const resultTitle = document.getElementById('result-title');
          const primaryName = document.getElementById('primary-name');
          const primaryReason = document.getElementById('primary-reason');
          const primaryPrice = document.getElementById('primary-price');
          const alternativeName = document.getElementById('alternative-name');
          const alternativeReason = document.getElementById('alternative-reason');
          const alternativePrice = document.getElementById('alternative-price');

          if (resultTitle) resultTitle.textContent = data.title;
          if (primaryName) primaryName.textContent = data.primary.name;
          if (primaryReason) primaryReason.textContent = data.primary.reason;
          if (primaryPrice) primaryPrice.textContent = data.primary.price;
          if (alternativeName) alternativeName.textContent = data.alternative.name;
          if (alternativeReason) alternativeReason.textContent = data.alternative.reason;
          if (alternativePrice) alternativePrice.textContent = data.alternative.price;

          // Show results
          if (resultsDiv) {
            resultsDiv.classList.remove('hidden');
            
            // Smooth scroll to results
            setTimeout(() => {
              if (resultsDiv) resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
          }
        }
      });
    });
  });
</script>

