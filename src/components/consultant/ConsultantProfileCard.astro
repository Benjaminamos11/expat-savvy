---
interface Props {
    name: string;
    title: string;
    image: string;
    credentials?: string;
    bio?: string;
    size?: "small" | "medium" | "large";
    className?: string;
    ctaText?: string;
}

const {
    name,
    title,
    image,
    credentials = "FINMA-Certified Advisor",
    bio,
    size = "medium",
    className = "",
    ctaText,
} = Astro.props;

const cardClasses = {
    small: "max-w-lg",
    medium: "max-w-4xl",
    large: "max-w-5xl",
};
---

<div
    class={`bg-gray-50 rounded-[40px] p-8 md:p-12 border border-gray-100 shadow-sm hover:shadow-md transition-shadow mx-auto ${cardClasses[size]} ${className}`}
>
    <div
        class="flex flex-col md:flex-row items-center md:items-start gap-8 md:gap-12"
    >
        <!-- Profile Image -->
        <div class="relative shrink-0">
            <div
                class="absolute inset-0 bg-[#C41E3A] rounded-full blur-2xl opacity-10 group-hover:opacity-20 transition-opacity"
            >
            </div>
            <img
                src={image}
                alt={name}
                class="w-32 h-32 md:w-40 md:h-40 rounded-full object-cover border-4 border-white shadow-xl relative z-10"
            />
            <div
                class="absolute -bottom-2 -right-2 bg-green-500 w-8 h-8 rounded-full border-4 border-white flex items-center justify-center z-20 shadow-lg"
                title="Online now"
            >
                <div class="w-2 h-2 bg-white rounded-full animate-pulse"></div>
            </div>
        </div>

        <!-- Content -->
        <div class="flex-grow text-center md:text-left">
            <div class="mb-6">
                <span
                    class="text-[#C41E3A] text-xs font-black uppercase tracking-[0.2em] mb-2 block"
                >
                    {credentials}
                </span>
                <h3 class="text-3xl font-black text-[#1a1a2e] mb-1">{name}</h3>
                <p class="text-gray-500 font-medium text-lg">{title}</p>
            </div>

            {
                bio && (
                    <p class="text-gray-600 leading-relaxed text-lg mb-8 italic">
                        "{bio}"
                    </p>
                )
            }

            {
                ctaText && (
                    <button
                        onclick="window.openContextualModal()"
                        class="w-full md:w-auto bg-[#C41E3A] hover:bg-[#a51930] text-white font-bold py-5 px-10 rounded-full text-lg shadow-xl shadow-red-900/20 transition transform hover:-translate-y-1 active:scale-95"
                    >
                        {ctaText}
                    </button>
                )
            }
        </div>
    </div>
</div>
